[gd_scene format=3 uid="uid://dadtg2y3wb6l4"]

[ext_resource type="PackedScene" uid="uid://kpp1jxkuw8rf" path="res://assets/characters/eumling/V2/Eumling_v2.glb" id="1_qpw4l"]
[ext_resource type="Script" uid="uid://dpx7tmnfa6now" path="res://game/sound/sfx/sound_requester.gd" id="2_2pu6i"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4icu7"]
animation = &"attack"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_lyv7g"]
filters = ["SoundEffectManager"]
fadeout_time = 5.0

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_qpw4l"]
filters = ["SoundEffectManager"]
fadeout_time = 0.1

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_kkceb"]
filters = ["SoundEffectManager"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_xpqnk"]
filter_enabled = true
filters = [".", "Eumling_Armature/Skeleton3D:DEF_HAND.R", "Eumling_Armature/Skeleton3D:DEF_HEAD", "Eumling_Armature/Skeleton3D:DEF_LOWERARM.R", "Eumling_Armature/Skeleton3D:DEF_UPPERARM.R", "SoundEffectManager"]
fadein_time = 0.1
fadeout_time = 0.1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kkceb"]
animation = &"death"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xpqnk"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4icu7"]
advance_mode = 2
advance_condition = &"reset"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_lo48b"]
states/Start/position = Vector2(275, 131)
states/attack/node = SubResource("AnimationNodeAnimation_kkceb")
states/attack/position = Vector2(552, 146)
transitions = ["Start", "attack", SubResource("AnimationNodeStateMachineTransition_xpqnk"), "attack", "End", SubResource("AnimationNodeStateMachineTransition_4icu7")]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_lo48b"]
xfade_time = 0.1
input_0/name = "attack_02"
input_0/auto_advance = true
input_0/break_loop_at_end = true
input_0/reset = true
input_1/name = "attack_01"
input_1/auto_advance = true
input_1/break_loop_at_end = true
input_1/reset = true

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_4icu7"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qpw4l"]
animation = &"attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xpqnk"]
animation = &"get_hit"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rna07"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xqh50"]
animation = &"walk"

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_lo48b"]
graph_offset = Vector2(-1232.5625, 179.50887)
nodes/output/position = Vector2(780, 300)
nodes/idle/node = SubResource("AnimationNodeAnimation_rna07")
nodes/idle/position = Vector2(-940, 80)
nodes/attack/node = SubResource("AnimationNodeAnimation_qpw4l")
nodes/attack/position = Vector2(-780, 540)
nodes/Shoot/node = SubResource("AnimationNodeOneShot_xpqnk")
nodes/Shoot/position = Vector2(-360, 380)
nodes/walk/node = SubResource("AnimationNodeAnimation_xqh50")
nodes/walk/position = Vector2(-1120, 280)
nodes/WalkSpeedScale/node = SubResource("AnimationNodeTimeScale_4icu7")
nodes/WalkSpeedScale/position = Vector2(-900, 280)
nodes/Idle-Walk/node = SubResource("AnimationNodeBlend2_kkceb")
nodes/Idle-Walk/position = Vector2(-580, 200)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_lo48b")
nodes/StateMachine/position = Vector2(180, 720)
nodes/DeathOneShot/node = SubResource("AnimationNodeOneShot_lyv7g")
nodes/DeathOneShot/position = Vector2(480, 380)
nodes/GetHitOneShot/node = SubResource("AnimationNodeOneShot_qpw4l")
nodes/GetHitOneShot/position = Vector2(-20, 380)
nodes/hit/node = SubResource("AnimationNodeAnimation_xpqnk")
nodes/hit/position = Vector2(-320, 780)
nodes/Transition/node = SubResource("AnimationNodeTransition_lo48b")
nodes/Transition/position = Vector2(-600, 500)
nodes/Animation/node = SubResource("AnimationNodeAnimation_4icu7")
nodes/Animation/position = Vector2(-780, 700)
node_connections = [&"output", 0, &"DeathOneShot", &"Shoot", 0, &"Idle-Walk", &"Shoot", 1, &"Transition", &"WalkSpeedScale", 0, &"walk", &"Idle-Walk", 0, &"idle", &"Idle-Walk", 1, &"WalkSpeedScale", &"DeathOneShot", 0, &"GetHitOneShot", &"DeathOneShot", 1, &"StateMachine", &"GetHitOneShot", 0, &"Shoot", &"GetHitOneShot", 1, &"hit", &"Transition", 0, &"attack", &"Transition", 1, &"Animation"]

[node name="Eumling_v2" unique_id=1494019728 instance=ExtResource("1_qpw4l")]
script = ExtResource("2_2pu6i")

[node name="Skeleton3D" parent="Eumling_Armature" parent_id_path=PackedInt32Array(1425410520) index="0" unique_id=285280383]
bones/0/position = Vector3(-0.0052855317, 0.0791778, 0.0040963953)
bones/0/rotation = Quaternion(0.061141994, -0.70447284, -0.060599435, 0.70449084)
bones/0/scale = Vector3(0.99999994, 0.99999994, 1)
bones/1/rotation = Quaternion(0.022565892, -0.0017124347, -0.032097016, 0.9992286)
bones/2/rotation = Quaternion(0.022565879, -0.0017124352, -0.032097057, 0.9992286)
bones/3/position = Vector3(-0.052391484, 0.07644687, -0.00047353757)
bones/3/rotation = Quaternion(-0.2880233, 0.67019475, 0.22631493, 0.64549446)
bones/3/scale = Vector3(1, 1.0000001, 0.99999994)
bones/4/position = Vector3(-0.00095428457, 0.052386697, -0.010374078)
bones/4/rotation = Quaternion(0.58197284, -0.000103942984, -0.00040724484, 0.81320816)
bones/4/scale = Vector3(1, 1.0000002, 0.99999994)
bones/5/rotation = Quaternion(-0.77830184, -0.00350149, -0.0034630774, 0.627871)
bones/5/scale = Vector3(1, 1.0000004, 1.0000002)
bones/6/rotation = Quaternion(-0.70631117, 8.9029186e-08, 4.193239e-05, 0.7079016)
bones/7/rotation = Quaternion(-0.70631117, 1.2775298e-07, 4.19712e-05, 0.7079015)
bones/8/rotation = Quaternion(-0.4341362, -0.5739767, -0.50458246, 0.47694147)
bones/9/rotation = Quaternion(-0.06587705, 0.038619842, 0.16803108, 0.9828196)
bones/10/rotation = Quaternion(-0.31721845, -0.6777967, -0.4045703, 0.52563006)
bones/11/rotation = Quaternion(-0.47022974, -0.037049957, 0.064806566, 0.87938124)
bones/12/rotation = Quaternion(-0.4219401, 0.58306915, 0.49510854, 0.48668727)
bones/13/rotation = Quaternion(-0.045520924, -0.038587086, -0.167383, 0.98408425)
bones/14/rotation = Quaternion(-0.29789224, 0.6865431, 0.3898246, 0.53661484)
bones/15/rotation = Quaternion(-0.4160034, 0.02388954, -0.062186383, 0.90691966)
bones/16/position = Vector3(-2.2465465e-05, 0.2780975, -0.18831672)
bones/16/rotation = Quaternion(-0.00013176053, 0.9998836, -0.013538075, 0.007049675)
bones/16/scale = Vector3(1.0000002, 0.99999934, 1.0000001)
bones/17/rotation = Quaternion(-0.19361916, 4.3912707e-05, 0.00027839598, 0.9810767)
bones/17/scale = Vector3(0.9999999, 1.0000001, 1)
bones/18/rotation = Quaternion(-0.20723313, 5.330047e-05, 0.00030968527, 0.97829163)
bones/18/scale = Vector3(0.99999976, 1.0000004, 0.9999997)
bones/19/rotation = Quaternion(-0.22416039, 6.512482e-05, 0.00034308157, 0.9745522)
bones/19/scale = Vector3(1.0000001, 0.99999976, 1.0000001)
bones/20/rotation = Quaternion(-0.7783419, -0.003464597, -0.0035096342, 0.6278213)
bones/20/scale = Vector3(1, 1.0000002, 1.0000001)
bones/21/rotation = Quaternion(-0.70631117, 4.1932177e-05, 1.8325896e-07, 0.7079016)
bones/22/rotation = Quaternion(-0.70631117, 4.1970874e-05, 2.2205518e-07, 0.7079015)
bones/23/position = Vector3(-0.00961465, 0.038711403, -0.07677879)
bones/23/rotation = Quaternion(-0.9525089, 0.19055839, -0.047788806, 0.23265961)
bones/23/scale = Vector3(0.9999575, 0.9999609, 0.9999798)
bones/24/position = Vector3(-2.2122112e-08, 0.091254346, 2.3147514e-08)
bones/24/rotation = Quaternion(2.3429059e-09, -6.519259e-09, 5.5993397e-09, 1)
bones/25/position = Vector3(2.306404e-10, 0.043196548, -1.3504177e-08)
bones/25/rotation = Quaternion(1.6650508e-15, -6.519258e-09, 4.8459263e-09, 1)
bones/26/position = Vector3(0.09706809, -0.1326527, 0.0038575458)
bones/26/rotation = Quaternion(-0.08890712, -0.70192516, -0.0860541, 0.7014209)
bones/26/scale = Vector3(1, 1, 0.99999964)
bones/27/position = Vector3(-0.00028652773, 0.3828394, 0.058326077)
bones/27/rotation = Quaternion(-0.72582656, -0.00044498767, 0.00032312522, 0.68787754)
bones/28/rotation = Quaternion(-0.17520528, 2.4515884e-06, -1.7242668e-05, 0.984532)
bones/29/rotation = Quaternion(-0.23965365, 1.3940562e-06, -1.735279e-05, 0.9708585)
bones/30/rotation = Quaternion(-0.019928522, 5.308384e-06, -1.6642683e-05, 0.9998014)
bones/33/position = Vector3(-0.007940289, 0.04452627, 0.07982071)
bones/33/rotation = Quaternion(0.047648486, 0.23632437, 0.95160544, 0.1905979)
bones/33/scale = Vector3(0.99995774, 0.999962, 0.9999749)
bones/34/position = Vector3(1.5599479e-08, 0.09125432, -8.651118e-09)
bones/34/rotation = Quaternion(-6.068186e-09, -1.5073212e-08, -4.331229e-09, 1)
bones/36/rotation = Quaternion(0.7002841, -0.07290141, -0.7025167, -0.10372026)
bones/36/scale = Vector3(1.0000005, 0.99999994, 0.99999994)
bones/37/position = Vector3(-7.2189663e-09, 0.10051825, -3.877466e-09)
bones/37/rotation = Quaternion(2.4724363e-08, 0.7459533, -0.6659983, 2.2152979e-07)
bones/37/scale = Vector3(1.0097711, 0.98074085, 1.0097711)
bones/38/position = Vector3(5.279937e-09, 0.0716622, -1.6035341e-09)
bones/38/rotation = Quaternion(-0.022106394, -0.3544499, 0.93481314, -0.0010372464)
bones/38/scale = Vector3(0.9903284, 1.0068415, 1.0033228)
bones/39/position = Vector3(2.0138577e-09, 0.0748478, 6.5374395e-10)
bones/39/rotation = Quaternion(0.071242265, 3.7119463e-08, 2.4790268e-09, 0.99745905)
bones/40/rotation = Quaternion(-0.700259, 0.07305057, 0.7025006, 0.103894286)
bones/40/scale = Vector3(1.0000005, 1.0000001, 1)
bones/41/position = Vector3(2.432742e-09, 0.10051825, -7.5968485e-09)
bones/41/rotation = Quaternion(-1.5669532e-07, 0.7453617, -0.66666037, -1.2601204e-07)
bones/41/scale = Vector3(1.0097712, 0.98074037, 1.0097711)
bones/42/position = Vector3(-6.4981878e-09, 0.0716622, -3.1011882e-09)
bones/42/rotation = Quaternion(-0.022123545, -0.35383546, 0.9350454, -0.0010530492)
bones/42/scale = Vector3(0.99032825, 1.0068789, 1.0032855)
bones/43/position = Vector3(-2.013853e-09, 0.0748478, 1.2670661e-09)

[node name="AnimationTree" type="AnimationTree" parent="." index="2" unique_id=1243012564]
tree_root = SubResource("AnimationNodeBlendTree_lo48b")
anim_player = NodePath("../AnimationPlayer")
parameters/Shoot/active = false
parameters/Shoot/internal_active = false
parameters/Shoot/request = 0
parameters/WalkSpeedScale/scale = 1.0
parameters/Idle-Walk/blend_amount = 0.0
parameters/StateMachine/conditions/reset = false
parameters/DeathOneShot/active = false
parameters/DeathOneShot/internal_active = false
parameters/DeathOneShot/request = 0
parameters/GetHitOneShot/active = false
parameters/GetHitOneShot/internal_active = false
parameters/GetHitOneShot/request = 0
parameters/Transition/current_state = "attack_01"
parameters/Transition/transition_request = ""
parameters/Transition/current_index = 1
