[gd_scene format=3 uid="uid://dadtg2y3wb6l4"]

[ext_resource type="PackedScene" uid="uid://kpp1jxkuw8rf" path="res://assets/characters/eumling/V2/Eumling_v2.glb" id="1_qpw4l"]
[ext_resource type="Script" uid="uid://dpx7tmnfa6now" path="res://game/sound/sfx/sound_requester.gd" id="2_2pu6i"]
[ext_resource type="PackedScene" uid="uid://ci076xieq67c" path="res://game/shared/shadow/decal_shadow.tscn" id="3_rna07"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4icu7"]
animation = &"attack"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_lyv7g"]
filters = ["SoundEffectManager"]
fadeout_time = 5.0

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_qpw4l"]
filters = ["SoundEffectManager"]
fadeout_time = 0.1

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_kkceb"]
filters = ["SoundEffectManager"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_xpqnk"]
filter_enabled = true
filters = [".", "Eumling_Armature/Skeleton3D:DEF_HAND.R", "Eumling_Armature/Skeleton3D:DEF_HEAD", "Eumling_Armature/Skeleton3D:DEF_LOWERARM.R", "Eumling_Armature/Skeleton3D:DEF_UPPERARM.R", "SoundEffectManager"]
fadein_time = 0.1
fadeout_time = 0.1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kkceb"]
animation = &"death"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xpqnk"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4icu7"]
advance_mode = 2
advance_condition = &"reset"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_lo48b"]
states/Start/position = Vector2(275, 131)
states/attack/node = SubResource("AnimationNodeAnimation_kkceb")
states/attack/position = Vector2(552, 146)
transitions = ["Start", "attack", SubResource("AnimationNodeStateMachineTransition_xpqnk"), "attack", "End", SubResource("AnimationNodeStateMachineTransition_4icu7")]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_lo48b"]
xfade_time = 0.1
input_0/name = "attack_02"
input_0/auto_advance = true
input_0/break_loop_at_end = true
input_0/reset = true
input_1/name = "attack_01"
input_1/auto_advance = true
input_1/break_loop_at_end = true
input_1/reset = true

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_4icu7"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qpw4l"]
animation = &"attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xpqnk"]
animation = &"get_hit"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rna07"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xqh50"]
animation = &"walk"

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_lo48b"]
graph_offset = Vector2(-1232.5625, 179.50887)
nodes/output/position = Vector2(780, 300)
nodes/idle/node = SubResource("AnimationNodeAnimation_rna07")
nodes/idle/position = Vector2(-940, 80)
nodes/attack/node = SubResource("AnimationNodeAnimation_qpw4l")
nodes/attack/position = Vector2(-780, 540)
nodes/Shoot/node = SubResource("AnimationNodeOneShot_xpqnk")
nodes/Shoot/position = Vector2(-360, 380)
nodes/walk/node = SubResource("AnimationNodeAnimation_xqh50")
nodes/walk/position = Vector2(-1120, 280)
nodes/WalkSpeedScale/node = SubResource("AnimationNodeTimeScale_4icu7")
nodes/WalkSpeedScale/position = Vector2(-900, 280)
nodes/Idle-Walk/node = SubResource("AnimationNodeBlend2_kkceb")
nodes/Idle-Walk/position = Vector2(-580, 200)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_lo48b")
nodes/StateMachine/position = Vector2(180, 720)
nodes/DeathOneShot/node = SubResource("AnimationNodeOneShot_lyv7g")
nodes/DeathOneShot/position = Vector2(480, 380)
nodes/GetHitOneShot/node = SubResource("AnimationNodeOneShot_qpw4l")
nodes/GetHitOneShot/position = Vector2(-20, 380)
nodes/hit/node = SubResource("AnimationNodeAnimation_xpqnk")
nodes/hit/position = Vector2(-320, 780)
nodes/Transition/node = SubResource("AnimationNodeTransition_lo48b")
nodes/Transition/position = Vector2(-600, 500)
nodes/Animation/node = SubResource("AnimationNodeAnimation_4icu7")
nodes/Animation/position = Vector2(-780, 700)
node_connections = [&"output", 0, &"DeathOneShot", &"Shoot", 0, &"Idle-Walk", &"Shoot", 1, &"Transition", &"WalkSpeedScale", 0, &"walk", &"Idle-Walk", 0, &"idle", &"Idle-Walk", 1, &"WalkSpeedScale", &"DeathOneShot", 0, &"GetHitOneShot", &"DeathOneShot", 1, &"StateMachine", &"GetHitOneShot", 0, &"Shoot", &"GetHitOneShot", 1, &"hit", &"Transition", 0, &"attack", &"Transition", 1, &"Animation"]

[node name="Eumling_v2" unique_id=1494019728 instance=ExtResource("1_qpw4l")]
script = ExtResource("2_2pu6i")

[node name="Skeleton3D" parent="Eumling_Armature" index="0"]
bones/0/position = Vector3(-0.004419129, 0.071135715, 0.0040963953)
bones/0/rotation = Quaternion(0.061141994, -0.70447284, -0.060599435, 0.70449084)
bones/0/scale = Vector3(0.99999994, 0.99999994, 1)
bones/1/rotation = Quaternion(0.018694682, -0.0013520336, -0.03210785, 0.9993087)
bones/2/rotation = Quaternion(0.018694673, -0.0013520331, -0.03210788, 0.9993087)
bones/3/position = Vector3(-0.044616282, 0.051525176, 0.002106553)
bones/3/rotation = Quaternion(-0.28213498, 0.6679736, 0.23240963, 0.6482261)
bones/3/scale = Vector3(1, 1.0000001, 0.99999994)
bones/4/position = Vector3(0.002673527, 0.08889911, 0.006912409)
bones/4/rotation = Quaternion(0.58197284, -0.000103942984, -0.00040724484, 0.81320816)
bones/4/scale = Vector3(1, 1.0000002, 0.99999994)
bones/5/rotation = Quaternion(-0.77930653, -0.0022053106, -0.002163919, 0.6266354)
bones/5/scale = Vector3(1, 1.0000004, 1.0000002)
bones/6/rotation = Quaternion(-0.70631117, 8.9029186e-08, 4.193239e-05, 0.7079016)
bones/7/rotation = Quaternion(-0.70631117, 1.2775298e-07, 4.19712e-05, 0.7079015)
bones/8/rotation = Quaternion(-0.37521383, -0.6125498, -0.46202698, 0.52012354)
bones/9/rotation = Quaternion(0.026862375, 0.035368852, 0.16538362, 0.98522884)
bones/10/rotation = Quaternion(-0.21389747, -0.7191296, -0.32622063, 0.5750483)
bones/11/rotation = Quaternion(-0.17560013, 0.024307556, 0.037622284, 0.9834421)
bones/12/rotation = Quaternion(-0.35622448, 0.62410057, 0.4467977, 0.5328926)
bones/13/rotation = Quaternion(0.056632128, -0.035263255, -0.16413666, 0.9841791)
bones/14/rotation = Quaternion(-0.19711445, 0.7247533, 0.3136245, 0.58096313)
bones/15/rotation = Quaternion(-0.12750474, -0.031942476, -0.030611645, 0.9908508)
bones/16/position = Vector3(0.000538717, 0.28505105, -0.18816999)
bones/16/rotation = Quaternion(-8.62644e-05, 0.99982226, -0.017921718, 0.00584932)
bones/16/scale = Vector3(1.0000002, 0.99999934, 1.0000001)
bones/17/rotation = Quaternion(-0.12911831, 5.1961368e-05, 0.00032940938, 0.9916291)
bones/17/scale = Vector3(0.9999999, 1.0000001, 1)
bones/18/rotation = Quaternion(-0.14288448, 6.2360836e-05, 0.00036234126, 0.98973936)
bones/18/scale = Vector3(0.99999976, 1.0000004, 0.9999997)
bones/19/rotation = Quaternion(-0.16002065, 7.6091485e-05, 0.00040081583, 0.98711365)
bones/19/scale = Vector3(1.0000001, 0.99999976, 1.0000001)
bones/20/rotation = Quaternion(-0.7793464, -0.0021683555, -0.002210401, 0.6265856)
bones/20/scale = Vector3(1, 1.0000002, 1.0000001)
bones/21/rotation = Quaternion(-0.70631117, 4.1932177e-05, 1.8325896e-07, 0.7079016)
bones/22/rotation = Quaternion(-0.70631117, 4.1970874e-05, 2.2205518e-07, 0.7079015)
bones/23/position = Vector3(0.011534955, 0.057476655, -0.082146265)
bones/23/rotation = Quaternion(-0.953351, 0.1905706, -0.047824457, 0.22916725)
bones/23/scale = Vector3(0.9999575, 0.9999609, 0.9999798)
bones/24/position = Vector3(-2.2122112e-08, 0.091254346, 2.3147514e-08)
bones/24/rotation = Quaternion(2.3429059e-09, -6.519259e-09, 5.5993397e-09, 1)
bones/25/position = Vector3(2.306404e-10, 0.043196548, -1.3504177e-08)
bones/25/rotation = Quaternion(1.6650508e-15, -6.519258e-09, 4.8459263e-09, 1)
bones/26/position = Vector3(0.123533666, -0.09613354, -0.0024916285)
bones/26/rotation = Quaternion(-0.09204017, -0.7017012, -0.08294267, 0.70161575)
bones/26/scale = Vector3(1, 1, 0.99999964)
bones/27/position = Vector3(-0.0034111592, 0.39709756, 0.057563495)
bones/27/rotation = Quaternion(-0.7258101, -0.0008313579, 0.0006554624, 0.6878942)
bones/28/rotation = Quaternion(-0.15235719, 1.811586e-05, 0.00068127987, 0.98832524)
bones/29/rotation = Quaternion(-0.21710496, 6.302273e-05, 0.0006786226, 0.976148)
bones/30/rotation = Quaternion(0.003231421, -8.787484e-05, 0.0006758049, 0.99999464)
bones/33/position = Vector3(0.010212267, 0.053882655, 0.07634239)
bones/33/rotation = Quaternion(0.047642473, 0.23837602, 0.95109063, 0.19061403)
bones/33/scale = Vector3(0.99995774, 0.999962, 0.9999749)
bones/34/position = Vector3(1.5599479e-08, 0.09125432, -8.651118e-09)
bones/34/rotation = Quaternion(-6.068186e-09, -1.5073212e-08, -4.331229e-09, 1)
bones/36/rotation = Quaternion(0.69836366, -0.087933265, -0.7008749, -0.115456514)
bones/36/scale = Vector3(1.0000005, 0.99999994, 0.99999994)
bones/37/position = Vector3(-7.2189663e-09, 0.10051825, -3.877466e-09)
bones/37/rotation = Quaternion(1.7802163e-08, 0.6967235, -0.71733975, 2.0813862e-07)
bones/37/scale = Vector3(1.0092441, 0.9817654, 1.0092441)
bones/38/position = Vector3(5.279937e-09, 0.0716622, -1.6035341e-09)
bones/38/rotation = Quaternion(-0.01973525, -0.30537027, 0.95202714, -0.0019627223)
bones/38/scale = Vector3(0.99080646, 1.0093036, 1.0003185)
bones/39/position = Vector3(2.0138577e-09, 0.0748478, 6.5374395e-10)
bones/39/rotation = Quaternion(0.071242265, 3.7119463e-08, 2.4790268e-09, 0.99745905)
bones/40/rotation = Quaternion(-0.6983405, 0.08805327, 0.70085937, 0.11560035)
bones/40/scale = Vector3(1.0000005, 1.0000001, 1)
bones/41/position = Vector3(2.432742e-09, 0.10051825, -7.5968485e-09)
bones/41/rotation = Quaternion(-1.6296596e-07, 0.69612736, -0.7179184, -1.1665402e-07)
bones/41/scale = Vector3(1.0092337, 0.98178524, 1.009234)
bones/42/position = Vector3(-6.4981878e-09, 0.0716622, -3.1011882e-09)
bones/42/rotation = Quaternion(-0.019751074, -0.30475894, 0.9522227, -0.0019775676)
bones/42/scale = Vector3(0.9908164, 1.0093262, 1.0002843)
bones/43/position = Vector3(-2.013853e-09, 0.0748478, 1.2670661e-09)

[node name="bag_object" parent="Eumling_Armature/Skeleton3D" index="0"]
layers = 2

[node name="eumling_mesh" parent="Eumling_Armature/Skeleton3D" index="1"]
layers = 2

[node name="AnimationTree" type="AnimationTree" parent="." index="2" unique_id=1243012564]
tree_root = SubResource("AnimationNodeBlendTree_lo48b")
anim_player = NodePath("../AnimationPlayer")
parameters/Shoot/active = false
parameters/Shoot/internal_active = false
parameters/Shoot/request = 0
parameters/WalkSpeedScale/scale = 1.0
parameters/Idle-Walk/blend_amount = 0.0
parameters/StateMachine/conditions/reset = false
parameters/DeathOneShot/active = false
parameters/DeathOneShot/internal_active = false
parameters/DeathOneShot/request = 0
parameters/GetHitOneShot/active = false
parameters/GetHitOneShot/internal_active = false
parameters/GetHitOneShot/request = 0
parameters/Transition/current_state = "attack_01"
parameters/Transition/transition_request = ""
parameters/Transition/current_index = 1

[node name="DecalShadow" parent="." index="3" unique_id=1002455412 instance=ExtResource("3_rna07")]
size = Vector3(0.5, 0.05, 0.5)
