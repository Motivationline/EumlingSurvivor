[gd_scene format=3 uid="uid://dadtg2y3wb6l4"]

[ext_resource type="PackedScene" uid="uid://kpp1jxkuw8rf" path="res://assets/characters/eumling/V2/Eumling_v2.glb" id="1_qpw4l"]
[ext_resource type="Script" uid="uid://dpx7tmnfa6now" path="res://game/sound/sfx/sound_requester.gd" id="2_2pu6i"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4icu7"]
animation = &"attack"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_lyv7g"]
filters = ["SoundEffectManager"]
fadeout_time = 5.0

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_qpw4l"]
filters = ["SoundEffectManager"]
fadeout_time = 0.1

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_kkceb"]
filters = ["SoundEffectManager"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_xpqnk"]
filter_enabled = true
filters = [".", "Eumling_Armature/Skeleton3D:DEF_HAND.R", "Eumling_Armature/Skeleton3D:DEF_HEAD", "Eumling_Armature/Skeleton3D:DEF_LOWERARM.R", "Eumling_Armature/Skeleton3D:DEF_UPPERARM.R", "SoundEffectManager"]
fadein_time = 0.1
fadeout_time = 0.1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kkceb"]
animation = &"death"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xpqnk"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4icu7"]
advance_mode = 2
advance_condition = &"reset"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_lo48b"]
states/Start/position = Vector2(275, 131)
states/attack/node = SubResource("AnimationNodeAnimation_kkceb")
states/attack/position = Vector2(552, 146)
transitions = ["Start", "attack", SubResource("AnimationNodeStateMachineTransition_xpqnk"), "attack", "End", SubResource("AnimationNodeStateMachineTransition_4icu7")]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_lo48b"]
xfade_time = 0.1
input_0/name = "attack_02"
input_0/auto_advance = true
input_0/break_loop_at_end = true
input_0/reset = true
input_1/name = "attack_01"
input_1/auto_advance = true
input_1/break_loop_at_end = true
input_1/reset = true

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_4icu7"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qpw4l"]
animation = &"attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xpqnk"]
animation = &"get_hit"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rna07"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xqh50"]
animation = &"walk"

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_lo48b"]
graph_offset = Vector2(-1232.5625, 179.50887)
nodes/output/position = Vector2(780, 300)
nodes/idle/node = SubResource("AnimationNodeAnimation_rna07")
nodes/idle/position = Vector2(-940, 80)
nodes/attack/node = SubResource("AnimationNodeAnimation_qpw4l")
nodes/attack/position = Vector2(-780, 540)
nodes/Shoot/node = SubResource("AnimationNodeOneShot_xpqnk")
nodes/Shoot/position = Vector2(-360, 380)
nodes/walk/node = SubResource("AnimationNodeAnimation_xqh50")
nodes/walk/position = Vector2(-1120, 280)
nodes/WalkSpeedScale/node = SubResource("AnimationNodeTimeScale_4icu7")
nodes/WalkSpeedScale/position = Vector2(-900, 280)
nodes/Idle-Walk/node = SubResource("AnimationNodeBlend2_kkceb")
nodes/Idle-Walk/position = Vector2(-580, 200)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_lo48b")
nodes/StateMachine/position = Vector2(180, 720)
nodes/DeathOneShot/node = SubResource("AnimationNodeOneShot_lyv7g")
nodes/DeathOneShot/position = Vector2(480, 380)
nodes/GetHitOneShot/node = SubResource("AnimationNodeOneShot_qpw4l")
nodes/GetHitOneShot/position = Vector2(-20, 380)
nodes/hit/node = SubResource("AnimationNodeAnimation_xpqnk")
nodes/hit/position = Vector2(-320, 780)
nodes/Transition/node = SubResource("AnimationNodeTransition_lo48b")
nodes/Transition/position = Vector2(-600, 500)
nodes/Animation/node = SubResource("AnimationNodeAnimation_4icu7")
nodes/Animation/position = Vector2(-780, 700)
node_connections = [&"output", 0, &"DeathOneShot", &"Shoot", 0, &"Idle-Walk", &"Shoot", 1, &"Transition", &"WalkSpeedScale", 0, &"walk", &"Idle-Walk", 0, &"idle", &"Idle-Walk", 1, &"WalkSpeedScale", &"DeathOneShot", 0, &"GetHitOneShot", &"DeathOneShot", 1, &"StateMachine", &"GetHitOneShot", 0, &"Shoot", &"GetHitOneShot", 1, &"hit", &"Transition", 0, &"attack", &"Transition", 1, &"Animation"]

[node name="Eumling_v2" unique_id=1494019728 instance=ExtResource("1_qpw4l")]
script = ExtResource("2_2pu6i")

[node name="Skeleton3D" parent="Eumling_Armature" index="0"]
bones/0/position = Vector3(-0.0005312923, 0.09432947, 0.0040963953)
bones/0/rotation = Quaternion(0.061141994, -0.70447284, -0.060599435, 0.70449084)
bones/0/scale = Vector3(0.99999994, 0.99999994, 1)
bones/1/rotation = Quaternion(0.009997879, -0.00054201065, -0.032123387, 0.99943376)
bones/2/rotation = Quaternion(0.009999186, -0.00054214743, -0.032123525, 0.99943376)
bones/3/position = Vector3(-0.053495355, 0.07992302, -0.003167072)
bones/3/rotation = Quaternion(-0.270893, 0.6634798, 0.24392104, 0.65338665)
bones/3/scale = Vector3(1, 1.0000001, 0.99999994)
bones/4/position = Vector3(0.003749602, 0.07375183, -0.0002587673)
bones/4/rotation = Quaternion(0.58197284, -0.000103942984, -0.00040724484, 0.81320816)
bones/4/scale = Vector3(1, 1.0000002, 0.99999994)
bones/5/rotation = Quaternion(-0.78520775, 0.0004661326, 0.0005138911, 0.6192321)
bones/5/scale = Vector3(1, 1.0000004, 1.0000002)
bones/6/rotation = Quaternion(-0.70631117, 8.9029186e-08, 4.193239e-05, 0.7079016)
bones/7/rotation = Quaternion(-0.70631117, 1.2775298e-07, 4.19712e-05, 0.7079015)
bones/8/rotation = Quaternion(-0.41139728, -0.58960295, -0.48816755, 0.4947859)
bones/9/rotation = Quaternion(-0.029240524, 0.037358474, 0.1667932, 0.98485)
bones/10/rotation = Quaternion(-0.22797671, -0.7142111, -0.33681974, 0.56963295)
bones/11/rotation = Quaternion(-0.21605279, 0.017372524, 0.04304685, 0.97527766)
bones/12/rotation = Quaternion(-0.3966176, 0.5997701, 0.47648343, 0.5058992)
bones/13/rotation = Quaternion(-0.0051344465, -0.037309974, -0.1658735, 0.9854276)
bones/14/rotation = Quaternion(-0.2590047, 0.7026936, 0.3603273, 0.5561498)
bones/15/rotation = Quaternion(-0.3053136, -0.0001769371, -0.05299115, 0.95077634)
bones/16/position = Vector3(0.0006388113, 0.2816796, -0.18821132)
bones/16/rotation = Quaternion(-6.890253e-05, 0.99974316, -0.02234035, 0.003830313)
bones/16/scale = Vector3(1.0000002, 0.99999934, 1.0000001)
bones/17/rotation = Quaternion(-0.120719016, 4.998624e-06, 3.1705633e-05, 0.9926868)
bones/17/scale = Vector3(0.9999999, 1.0000001, 1)
bones/18/rotation = Quaternion(-0.13450007, 6.0102416e-06, 3.476921e-05, 0.9909136)
bones/18/scale = Vector3(0.99999976, 1.0000004, 0.9999997)
bones/19/rotation = Quaternion(-0.15165827, 7.258359e-06, 3.840199e-05, 0.988433)
bones/19/scale = Vector3(1.0000001, 0.99999976, 1.0000001)
bones/20/rotation = Quaternion(-0.7851175, 0.00049358234, 0.0004579635, 0.61934656)
bones/20/scale = Vector3(1, 1.0000002, 1.0000001)
bones/21/rotation = Quaternion(-0.70631117, 4.1932177e-05, 1.8325896e-07, 0.7079016)
bones/22/rotation = Quaternion(-0.70631117, 4.1970874e-05, 2.2205518e-07, 0.7079015)
bones/23/position = Vector3(-0.003805039, 0.0645811, -0.08652139)
bones/23/rotation = Quaternion(-0.9535198, 0.19057766, -0.047836706, 0.2284553)
bones/23/scale = Vector3(0.9999575, 0.9999609, 0.9999798)
bones/24/position = Vector3(-2.2122112e-08, 0.091254346, 2.3147514e-08)
bones/24/rotation = Quaternion(2.3429059e-09, -6.519259e-09, 5.5993397e-09, 1)
bones/25/position = Vector3(2.306404e-10, 0.043196548, -1.3504177e-08)
bones/25/rotation = Quaternion(1.6650508e-15, -6.519258e-09, 4.8459263e-09, 1)
bones/26/position = Vector3(0.107345, -0.09180399, -0.006806088)
bones/26/rotation = Quaternion(-0.092655696, -0.7016636, -0.08232666, 0.7016448)
bones/26/scale = Vector3(1, 1, 0.99999964)
bones/27/position = Vector3(-0.0029320486, 0.3886619, 0.05797926)
bones/27/rotation = Quaternion(-0.72579557, -0.0011720554, 0.00094851427, 0.6879088)
bones/28/rotation = Quaternion(-0.19287866, -1.0169324e-06, 6.5842e-05, 0.9812227)
bones/29/rotation = Quaternion(-0.2570708, 3.4059967e-06, 6.578269e-05, 0.96639264)
bones/30/rotation = Quaternion(-0.03790156, -1.1042651e-05, 6.4891974e-05, 0.99928147)
bones/33/position = Vector3(-0.0035949987, 0.066053644, 0.07174655)
bones/33/rotation = Quaternion(0.047632247, 0.23912618, 0.9509, 0.19062835)
bones/33/scale = Vector3(0.99995774, 0.999962, 0.9999749)
bones/34/position = Vector3(1.5599479e-08, 0.09125432, -8.651118e-09)
bones/34/rotation = Quaternion(-6.068186e-09, -1.5073212e-08, -4.331229e-09, 1)
bones/36/rotation = Quaternion(0.7048514, -0.05525967, -0.70483553, -0.057774756)
bones/36/scale = Vector3(1.0000005, 0.99999994, 0.99999994)
bones/37/position = Vector3(-7.2189663e-09, 0.10051825, -3.877466e-09)
bones/37/rotation = Quaternion(3.6694367e-08, 0.8358631, -0.54893786, 2.1085155e-07)
bones/37/scale = Vector3(1.0087408, 0.9827449, 1.0087408)
bones/38/position = Vector3(5.279937e-09, 0.0716622, -1.6035341e-09)
bones/38/rotation = Quaternion(-0.002144856, -0.448315, 0.8938731, 0.00011933436)
bones/38/scale = Vector3(0.9910945, 1.0015397, 1.0077777)
bones/39/position = Vector3(2.0138577e-09, 0.0748478, 6.5374395e-10)
bones/39/rotation = Quaternion(0.071242265, 3.7119463e-08, 2.4790268e-09, 0.99745905)
bones/40/rotation = Quaternion(-0.70483345, 0.05547692, 0.7048183, 0.057994153)
bones/40/scale = Vector3(1.0000005, 1.0000001, 1)
bones/41/position = Vector3(2.432742e-09, 0.10051825, -7.5968485e-09)
bones/41/rotation = Quaternion(-9.660135e-08, 0.83529985, -0.5497948, -1.1593553e-07)
bones/41/scale = Vector3(1.008764, 0.9826999, 1.0087641)
bones/42/position = Vector3(-6.4981878e-09, 0.0716622, -3.1011882e-09)
bones/42/rotation = Quaternion(-0.0021464666, -0.44767532, 0.8941937, 0.000117570744)
bones/42/scale = Vector3(0.99107134, 1.0015806, 1.0077618)
bones/43/position = Vector3(-2.013853e-09, 0.0748478, 1.2670661e-09)

[node name="bag_object" parent="Eumling_Armature/Skeleton3D" index="0"]
layers = 2

[node name="eumling_mesh" parent="Eumling_Armature/Skeleton3D" index="1"]
layers = 2

[node name="AnimationTree" type="AnimationTree" parent="." index="2" unique_id=1243012564]
tree_root = SubResource("AnimationNodeBlendTree_lo48b")
anim_player = NodePath("../AnimationPlayer")
parameters/Shoot/active = false
parameters/Shoot/internal_active = false
parameters/Shoot/request = 0
parameters/WalkSpeedScale/scale = 1.0
parameters/Idle-Walk/blend_amount = 0.0
parameters/StateMachine/conditions/reset = false
parameters/DeathOneShot/active = false
parameters/DeathOneShot/internal_active = false
parameters/DeathOneShot/request = 0
parameters/GetHitOneShot/active = false
parameters/GetHitOneShot/internal_active = false
parameters/GetHitOneShot/request = 0
parameters/Transition/current_state = "attack_01"
parameters/Transition/transition_request = ""
parameters/Transition/current_index = 1
