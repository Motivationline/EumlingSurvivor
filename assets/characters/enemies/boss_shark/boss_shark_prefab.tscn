[gd_scene format=3 uid="uid://dnrlfw8cygdwx"]

[ext_resource type="PackedScene" uid="uid://bju85d7ivy2tk" path="res://assets/characters/enemies/boss_shark/BossShark.glb" id="1_f8085"]
[ext_resource type="Shader" uid="uid://bcr3jkq4ohhuh" path="res://game/levels/6-Vxx-Volcano/Shader/lava.tres" id="2_1oe4f"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_f8085"]
animation = &"death_from_beneath"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1oe4f"]
animation = &"fin_walk"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_gfhsp"]
xfade_time = 0.1
input_0/name = "dive_up"
input_0/auto_advance = true
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "fin_walk"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true
input_2/name = "dive_down"
input_2/auto_advance = false
input_2/break_loop_at_end = false
input_2/reset = true
input_3/name = "death_from_beneath"
input_3/auto_advance = false
input_3/break_loop_at_end = false
input_3/reset = true
input_4/name = "charge"
input_4/auto_advance = false
input_4/break_loop_at_end = false
input_4/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gfhsp"]
animation = &"charge_mouth_open"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lgeeb"]
animation = &"fin_dive"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2ajlj"]
animation = &"fin_dive"
play_mode = 1

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_f8085"]
graph_offset = Vector2(-945.13684, -81.5578)
nodes/Animation/node = SubResource("AnimationNodeAnimation_1oe4f")
nodes/Animation/position = Vector2(-600, -140)
nodes/Transition/node = SubResource("AnimationNodeTransition_gfhsp")
nodes/Transition/position = Vector2(-280, -200)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_f8085")
"nodes/Animation 2/position" = Vector2(-800, 180)
nodes/dive_down/node = SubResource("AnimationNodeAnimation_lgeeb")
nodes/dive_down/position = Vector2(-740, 0)
nodes/dive_up/node = SubResource("AnimationNodeAnimation_2ajlj")
nodes/dive_up/position = Vector2(-740, -280)
nodes/charge/node = SubResource("AnimationNodeAnimation_gfhsp")
nodes/charge/position = Vector2(-680, 360)
node_connections = [&"output", 0, &"Transition", &"Transition", 0, &"dive_up", &"Transition", 1, &"Animation", &"Transition", 2, &"dive_down", &"Transition", 3, &"Animation 2", &"Transition", 4, &"charge"]

[sub_resource type="QuadMesh" id="QuadMesh_gfhsp"]
size = Vector2(30, 30)
subdivide_width = 30
subdivide_depth = 30

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lgeeb"]
render_priority = 0
shader = ExtResource("2_1oe4f")
shader_parameter/Viscosity = 0.23
shader_parameter/WaveHeight = 0.375
shader_parameter/Speed = Vector2(0, 0)
shader_parameter/Ripples_Color = Color(1, 0.52966666, 0.17000002, 1)
shader_parameter/ProximityFade = 1.0
shader_parameter/RippleSpeed = 4.0
shader_parameter/SeeThrough = 0.8

[node name="BossShark" unique_id=1823984521 instance=ExtResource("1_f8085")]

[node name="Skeleton3D" parent="Armature" parent_id_path=PackedInt32Array(1100633461) index="0" unique_id=2137980250]
bones/0/position = Vector3(1.7763568e-15, -4.2152896, -0.05413887)
bones/0/rotation = Quaternion(-5.945989e-09, 0.7071068, 0.7071068, -5.945989e-09)
bones/0/scale = Vector3(0.319584, 0.319584, 0.319584)
bones/1/rotation = Quaternion(-8.408899e-09, -1.5764382e-23, 1, 1.6349377e-15)
bones/2/rotation = Quaternion(1.236712e-39, -1.4205116e-23, 1.9852335e-22, 1)
bones/3/rotation = Quaternion(0, -1.5777218e-30, 2.1175826e-22, 1)
bones/4/rotation = Quaternion(0, -1.5777218e-30, 2.1175826e-22, 1)
bones/5/rotation = Quaternion(0, -1.5777218e-30, 2.1175826e-22, 1)
bones/6/rotation = Quaternion(0, -1.5777218e-30, 2.1175826e-22, 1)
bones/7/rotation = Quaternion(0.46704197, -3.7267718e-08, -1.9684343e-08, 0.88423514)
bones/9/rotation = Quaternion(-8.907968e-09, -8.408899e-09, -4.3711392e-08, 1)
bones/11/position = Vector3(-0.63990843, 0.48422667, 0.2884551)
bones/11/rotation = Quaternion(0, -1.5881868e-22, 1.7763568e-15, 1)
bones/13/position = Vector3(0.63990843, 0.48422664, 0.2884551)
bones/13/rotation = Quaternion(0, -1.5881868e-22, 1.7763568e-15, 1)
bones/15/position = Vector3(6.738116e-14, 4.8087667e-09, -0.37897134)
bones/15/rotation = Quaternion(-0.22488342, -7.356403e-08, 1.6978218e-08, 0.9743857)
bones/16/position = Vector3(6.8423884e-07, 0.016190842, 13.673311)
bones/16/rotation = Quaternion(-0.0020168372, 0.30402374, 0.9526618, 0.0010010985)
bones/16/scale = Vector3(3.1290674, 3.1290674, 3.129067)
bones/17/rotation = Quaternion(-0.010641666, -0.04840399, 0.055721793, 0.99721557)
bones/18/position = Vector3(-0.57124734, 0.01435154, -0.45868728)
bones/18/rotation = Quaternion(-0.059922855, -0.116628416, 0.8817868, 0.45305535)
bones/20/position = Vector3(0.57124704, 0.014351833, -0.4586871)
bones/20/rotation = Quaternion(0.05992284, -0.11662843, 0.8817868, -0.45305532)

[node name="AnimationPlayer" parent="." index="1" unique_id=480723018]
autoplay = &"fin_walk"

[node name="AnimationTree" type="AnimationTree" parent="." index="2" unique_id=75202033]
tree_root = SubResource("AnimationNodeBlendTree_f8085")
anim_player = NodePath("../AnimationPlayer")
parameters/Transition/current_state = "fin_walk"
parameters/Transition/transition_request = ""
parameters/Transition/current_index = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="." index="3" unique_id=1615520195]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 0, 0)
visible = false
mesh = SubResource("QuadMesh_gfhsp")
surface_material_override/0 = SubResource("ShaderMaterial_lgeeb")
