[gd_scene load_steps=25 format=3 uid="uid://cgtlnuch0nmwm"]

[ext_resource type="PackedScene" uid="uid://cv1aqqcidm5nx" path="res://assets/characters/enemies/tortoise/tortoise.glb" id="1_gycm5"]
[ext_resource type="Script" uid="uid://fxqs1lioec3e" path="res://game/sound/sfx/manager/sound_effect_manager.gd" id="3_egmij"]
[ext_resource type="PackedScene" uid="uid://cpbr8uxxklmxm" path="res://game/sound/sfx/sound_presets/enemy_preset.tscn" id="4_d7yk1"]
[ext_resource type="AudioStream" uid="uid://cq74ndddkno7h" path="res://assets/characters/enemies/tortoise/sounds/shake_1.wav" id="5_egmij"]
[ext_resource type="AudioStream" uid="uid://dyx8o67l68hd0" path="res://assets/characters/enemies/tortoise/sounds/shake_2.wav" id="6_4vgkw"]
[ext_resource type="AudioStream" uid="uid://dihxorvypi2is" path="res://assets/characters/enemies/tortoise/sounds/shake_3.wav" id="7_54t5n"]
[ext_resource type="AudioStream" uid="uid://8lj10depf48g" path="res://assets/characters/enemies/tortoise/sounds/shake_4.wav" id="8_qcykk"]
[ext_resource type="AudioStream" uid="uid://bx2l13samx42h" path="res://assets/characters/enemies/tortoise/sounds/shake_5.wav" id="9_8b17d"]
[ext_resource type="AudioStream" uid="uid://dwnb2ysso6eoy" path="res://assets/characters/enemies/tortoise/sounds/shake_6.wav" id="10_l5mbv"]
[ext_resource type="AudioStream" uid="uid://br8cvyuvaedbt" path="res://assets/characters/enemies/tortoise/sounds/death_1.wav" id="11_s50k1"]
[ext_resource type="AudioStream" uid="uid://4qftj0c54m3m" path="res://assets/characters/enemies/tortoise/sounds/death_2.wav" id="12_hno28"]
[ext_resource type="AudioStream" uid="uid://b6kiqmsiue8d5" path="res://assets/characters/enemies/tortoise/sounds/death_3.wav" id="13_0saar"]
[ext_resource type="AudioStream" uid="uid://brp1odc2gm6u4" path="res://assets/characters/enemies/tortoise/sounds/death_4.wav" id="14_5jbpd"]
[ext_resource type="AudioStream" uid="uid://dqbf5uo5knv04" path="res://assets/characters/enemies/tortoise/sounds/death_5.wav" id="15_mchdf"]
[ext_resource type="AudioStream" uid="uid://bblxqdptr1fvr" path="res://assets/characters/enemies/tortoise/sounds/death_6.wav" id="16_xmx1y"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_l5mbv"]
animation = &"tortoise_walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s50k1"]
animation = &"tortoise_shake"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hno28"]
animation = &"tortoise_idle"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_0saar"]
fadein_time = 0.1
fadeout_time = 0.3

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_5jbpd"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_mchdf"]
xfade_time = 0.1
input_0/name = "idle"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "walk"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_xmx1y"]
graph_offset = Vector2(-487.3141, -7.710739)
nodes/output/position = Vector2(780, 80)
nodes/Animation/node = SubResource("AnimationNodeAnimation_hno28")
nodes/Animation/position = Vector2(-260, 40)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_l5mbv")
"nodes/Animation 2/position" = Vector2(-280, 260)
nodes/OneShot/node = SubResource("AnimationNodeOneShot_0saar")
nodes/OneShot/position = Vector2(460, 60)
nodes/Transition/node = SubResource("AnimationNodeTransition_mchdf")
nodes/Transition/position = Vector2(20, 120)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_s50k1")
"nodes/Animation 3/position" = Vector2(60, 380)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_5jbpd")
nodes/TimeScale/position = Vector2(260, 300)
node_connections = [&"output", 0, &"OneShot", &"OneShot", 0, &"Transition", &"OneShot", 1, &"TimeScale", &"Transition", 0, &"Animation", &"Transition", 1, &"Animation 2", &"TimeScale", 0, &"Animation 3"]

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_u38ti"]
streams_count = 6
stream_0/stream = ExtResource("5_egmij")
stream_1/stream = ExtResource("6_4vgkw")
stream_2/stream = ExtResource("7_54t5n")
stream_3/stream = ExtResource("8_qcykk")
stream_4/stream = ExtResource("9_8b17d")
stream_5/stream = ExtResource("10_l5mbv")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_egmij"]
streams_count = 6
stream_0/stream = ExtResource("11_s50k1")
stream_1/stream = ExtResource("12_hno28")
stream_2/stream = ExtResource("13_0saar")
stream_3/stream = ExtResource("14_5jbpd")
stream_4/stream = ExtResource("15_mchdf")
stream_5/stream = ExtResource("16_xmx1y")

[node name="tortoise" instance=ExtResource("1_gycm5")]

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeBlendTree_xmx1y")
anim_player = NodePath("../AnimationPlayer")
parameters/OneShot/active = false
parameters/OneShot/internal_active = false
parameters/OneShot/request = 0
parameters/Transition/current_state = "idle"
parameters/Transition/transition_request = "idle"
parameters/Transition/current_index = 0
parameters/TimeScale/scale = 1.7999999999999972

[node name="SoundEffectManager" type="Node3D" parent="." index="3"]
script = ExtResource("3_egmij")
metadata/_custom_type_script = "uid://fxqs1lioec3e"

[node name="Shake" parent="SoundEffectManager" index="0" instance=ExtResource("4_d7yk1")]
stream = SubResource("AudioStreamRandomizer_u38ti")

[node name="Death" parent="SoundEffectManager" index="1" instance=ExtResource("4_d7yk1")]
stream = SubResource("AudioStreamRandomizer_egmij")
