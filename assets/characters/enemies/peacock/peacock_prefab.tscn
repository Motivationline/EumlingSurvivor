[gd_scene load_steps=24 format=3 uid="uid://dtxcbfvali8ib"]

[ext_resource type="PackedScene" uid="uid://54ektyxf0nc1" path="res://assets/characters/enemies/peacock/peacock.glb" id="1_06s3q"]
[ext_resource type="Script" uid="uid://fxqs1lioec3e" path="res://game/sound/sfx/manager/sound_effect_manager.gd" id="2_lbsk3"]
[ext_resource type="PackedScene" uid="uid://cpbr8uxxklmxm" path="res://game/sound/sfx/sound_presets/enemy_preset.tscn" id="3_b4n07"]
[ext_resource type="AudioStream" uid="uid://db05veivwt285" path="res://assets/characters/enemies/peacock/sounds/slash_1.wav" id="4_s57sc"]
[ext_resource type="AudioStream" uid="uid://pky3frkxp8hm" path="res://assets/characters/enemies/peacock/sounds/slash_2.wav" id="5_3f0b6"]
[ext_resource type="AudioStream" uid="uid://bqngr1fx2bqe" path="res://assets/characters/enemies/peacock/sounds/slash_3.wav" id="6_ktqvi"]
[ext_resource type="AudioStream" uid="uid://cmp20igs7cipi" path="res://assets/characters/enemies/peacock/sounds/slash_4.wav" id="7_sqecj"]
[ext_resource type="AudioStream" uid="uid://blt2iiuhvm43y" path="res://assets/characters/enemies/peacock/sounds/slash_5.wav" id="8_bcwtc"]
[ext_resource type="AudioStream" uid="uid://cfmhfuoheaa7h" path="res://assets/characters/enemies/peacock/sounds/slash_6.wav" id="9_mtje3"]
[ext_resource type="AudioStream" uid="uid://puwjegppa1uy" path="res://assets/characters/enemies/peacock/sounds/death_1.wav" id="10_lk2ep"]
[ext_resource type="AudioStream" uid="uid://iqb0mgbwd4nr" path="res://assets/characters/enemies/peacock/sounds/death_2.wav" id="11_rg3mh"]
[ext_resource type="AudioStream" uid="uid://do5e1gi02kabn" path="res://assets/characters/enemies/peacock/sounds/death_3.wav" id="12_lbxcw"]
[ext_resource type="AudioStream" uid="uid://br0b2pgf7ios5" path="res://assets/characters/enemies/peacock/sounds/death_4.wav" id="13_g63n1"]
[ext_resource type="AudioStream" uid="uid://cp1lcnj843xkh" path="res://assets/characters/enemies/peacock/sounds/death_5.wav" id="14_gg60l"]
[ext_resource type="AudioStream" uid="uid://4ggxibgyrynx" path="res://assets/characters/enemies/peacock/sounds/death_6.wav" id="15_ujyfj"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lk2ep"]
animation = &"walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rg3mh"]
animation = &"swipe"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lbxcw"]
animation = &"idle"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_gg60l"]
input_0/name = "idle"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "walk"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_g63n1"]
fadein_time = 0.2
fadeout_time = 0.15

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_ujyfj"]
graph_offset = Vector2(-419, -27)
nodes/output/position = Vector2(520, 140)
nodes/Animation/node = SubResource("AnimationNodeAnimation_lbxcw")
nodes/Animation/position = Vector2(-260, 80)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_lk2ep")
"nodes/Animation 2/position" = Vector2(-260, 260)
nodes/Transition/node = SubResource("AnimationNodeTransition_gg60l")
nodes/Transition/position = Vector2(-40, 140)
nodes/shoot/node = SubResource("AnimationNodeOneShot_g63n1")
nodes/shoot/position = Vector2(300, 140)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_rg3mh")
"nodes/Animation 3/position" = Vector2(100, 360)
node_connections = [&"output", 0, &"shoot", &"Transition", 0, &"Animation", &"Transition", 1, &"Animation 2", &"shoot", 0, &"Transition", &"shoot", 1, &"Animation 3"]

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_j0h5x"]
random_pitch = 1.2
random_volume_offset_db = 2.0
streams_count = 6
stream_0/stream = ExtResource("4_s57sc")
stream_1/stream = ExtResource("5_3f0b6")
stream_2/stream = ExtResource("6_ktqvi")
stream_3/stream = ExtResource("7_sqecj")
stream_4/stream = ExtResource("8_bcwtc")
stream_5/stream = ExtResource("9_mtje3")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_s57sc"]
streams_count = 6
stream_0/stream = ExtResource("10_lk2ep")
stream_1/stream = ExtResource("11_rg3mh")
stream_2/stream = ExtResource("12_lbxcw")
stream_3/stream = ExtResource("13_g63n1")
stream_4/stream = ExtResource("14_gg60l")
stream_5/stream = ExtResource("15_ujyfj")

[node name="peacock" instance=ExtResource("1_06s3q")]

[node name="Skeleton3D" parent="Armature" index="0"]
bones/1/position = Vector3(-8.446488e-18, -0.038039595, 0.034023512)
bones/1/rotation = Quaternion(0.36878735, 1.9243504e-15, 3.5400522e-15, 0.9295138)
bones/2/position = Vector3(-2.8788133e-16, 0.06357177, 0.12971601)
bones/2/rotation = Quaternion(0.4977962, -6.5478886e-08, -3.7582563e-08, 0.867294)
bones/3/position = Vector3(-1.9993103e-15, 0.12873562, 0.24126902)
bones/3/rotation = Quaternion(0.745995, -0.09749838, 0.06871376, 0.6551825)
bones/4/position = Vector3(-0.01525542, 0.12080883, 0.30371508)
bones/4/rotation = Quaternion(0.58941454, -0.109893374, 0.046381447, 0.79897606)
bones/5/position = Vector3(-0.028495703, 0.14037222, 0.36427388)
bones/5/rotation = Quaternion(0.09453626, -0.11810088, -0.016749283, 0.98834944)
bones/6/position = Vector3(-0.0281685, 0.20282169, 0.35848248)
bones/6/rotation = Quaternion(0.7076432, 3.088515e-08, 3.0932068e-08, 0.70656997)
bones/7/position = Vector3(-0.028281875, 0.2622342, 0.35848847)
bones/7/rotation = Quaternion(0.00075886096, 5.13771e-16, -1.110223e-16, 0.99999976)
bones/8/position = Vector3(-0.0281685, 0.27888206, 0.3223698)
bones/8/rotation = Quaternion(0.00075886096, 5.137208e-16, -4.450204e-17, 0.99999976)
bones/9/position = Vector3(-0.0281685, 0.13710819, 0.42950487)
bones/9/rotation = Quaternion(-1.176532e-07, 0.16104686, 0.9869468, -1.9198316e-08)
bones/10/position = Vector3(-0.0281685, 0.082772925, 0.44781417)
bones/10/rotation = Quaternion(3.8869228e-08, 0.122240044, 0.99250054, 3.3011595e-08)
bones/11/position = Vector3(-0.028168503, 0.023999074, 0.46260968)
bones/11/rotation = Quaternion(1.2770189e-08, -0.10769895, 0.99418354, 1.8335159e-07)
bones/12/position = Vector3(0.016587678, 0.21299355, 0.41729861)
bones/12/rotation = Quaternion(0.0984092, -0.11128882, -0.7441573, 0.6512759)
bones/13/position = Vector3(0.05746007, 0.20753776, 0.4299827)
bones/13/rotation = Quaternion(-0.035666227, 0.0601574, -0.8531309, 0.5169881)
bones/14/position = Vector3(-0.07292467, 0.21299353, 0.41729861)
bones/14/rotation = Quaternion(0.098409176, 0.11128884, 0.7441573, 0.6512759)
bones/15/position = Vector3(-0.11379707, 0.20753774, 0.4299827)
bones/15/rotation = Quaternion(-0.03566623, -0.060157403, 0.8531309, 0.5169881)
bones/16/position = Vector3(-0.09516589, 0.21593311, 0.3725401)
bones/16/rotation = Quaternion(0.0005365866, -0.0005365866, 0.7071066, 0.7071066)
bones/17/position = Vector3(-0.09369986, 0.21593311, 0.37169692)
bones/17/rotation = Quaternion(0.0005365808, -0.0005365808, 0.7071066, 0.7071066)
bones/18/position = Vector3(0.038828894, 0.2159331, 0.3725401)
bones/18/rotation = Quaternion(0.0005366159, 0.0005366159, -0.7071066, 0.7071066)
bones/19/position = Vector3(0.03736286, 0.2159331, 0.37169692)
bones/19/rotation = Quaternion(0.0005365795, 0.0005365795, -0.7071066, 0.7071066)
bones/20/position = Vector3(-0.09263891, 0.21593311, 0.37066004)
bones/20/rotation = Quaternion(0.0005365868, -0.0005365868, 0.7071066, 0.7071066)
bones/21/position = Vector3(0.03630191, 0.2159331, 0.37066004)
bones/21/rotation = Quaternion(0.0005366157, 0.0005366157, -0.7071066, 0.7071066)
bones/22/position = Vector3(0.0841214, 0.1630015, 0.23586878)
bones/22/rotation = Quaternion(-0.4812761, 0.15524887, -0.79069626, 0.3450662)
bones/23/position = Vector3(0.13383691, 0.07346279, 0.16339341)
bones/23/rotation = Quaternion(-0.5039871, -0.041544523, -0.86258376, 0.014845163)
bones/24/position = Vector3(0.14529796, -0.09570289, 0.1730239)
bones/24/rotation = Quaternion(0.46090606, 0.20807342, 0.8176594, 0.27514416)
bones/25/position = Vector3(0.118225455, 0.0012086183, 0.20395093)
bones/25/rotation = Quaternion(0.32750696, 0.38531563, 0.6212297, 0.5986191)
bones/26/position = Vector3(-3.377838e-15, 0.17154375, 0.20828758)
bones/26/rotation = Quaternion(-0.60815936, -1.1828772e-07, 9.062282e-08, 0.79381496)
bones/27/position = Vector3(2.0613201e-15, 0.19484654, 0.12184525)
bones/27/rotation = Quaternion(-3.6532825e-08, -0.6006871, 0.7994842, 2.7448708e-08)
bones/28/position = Vector3(1.881001e-15, -0.011440365, 0.15272588)
bones/28/rotation = Quaternion(1, -2.3357442e-16, -1.6292068e-07, 9.6857555e-08)
bones/29/position = Vector3(-3.583036e-15, -0.13655877, 0.18339348)
bones/29/rotation = Quaternion(4.1589878e-08, 0.33388788, 0.9405064, -0.06298135)
bones/29/scale = Vector3(1.185726, 0.7112647, 1.1857259)
bones/30/position = Vector3(0.027694607, -0.31635344, 0.33021295)
bones/30/rotation = Quaternion(0.012708258, 0.50979793, 0.86004704, -0.016238393)
bones/30/scale = Vector3(1.0000001, 0.9999996, 0.99999994)
bones/31/position = Vector3(0.04110563, -0.4740314, 0.61832774)
bones/31/rotation = Quaternion(0.027398929, 0.3946126, 0.9179306, -0.030552736)
bones/31/scale = Vector3(1, 0.9999998, 0.99999994)
bones/32/position = Vector3(0.066693366, -0.69970024, 0.8558276)
bones/32/rotation = Quaternion(0.041604385, 0.27269918, 0.96017694, -0.044322923)
bones/32/scale = Vector3(0.9999998, 1, 0.9999997)
bones/33/position = Vector3(0.102121174, -0.97818625, 1.0267203)
bones/33/rotation = Quaternion(0.055100325, 0.14613731, 0.986063, -0.057337247)
bones/33/scale = Vector3(1.0000001, 0.99999976, 1.0000001)
bones/34/position = Vector3(0.14456807, -1.2906384, 1.1193494)
bones/34/rotation = Quaternion(0.0676566, 0.01708349, 0.9951473, -0.06937374)
bones/34/scale = Vector3(1, 0.9999997, 0.99999994)
bones/35/position = Vector3(-3.5596704e-15, -0.1365588, 0.18339343)
bones/36/rotation = Quaternion(0.04453462, 0.9011328, 0.42894423, -0.044534627)
bones/36/scale = Vector3(1.185726, 0.71126485, 1.185726)
bones/37/position = Vector3(0.027694631, -0.17221716, 0.10080339)
bones/37/rotation = Quaternion(1.9722885e-08, 0.9926454, 0.121058464, -7.494269e-08)
bones/38/position = Vector3(5.121226e-10, 0.32867002, 1.3221167e-08)
bones/38/rotation = Quaternion(8.432136e-09, 0.7071068, 0.7071068, -5.3385094e-08)
bones/39/rotation = Quaternion(0.014601323, 0.6101674, 0.7920034, -0.014601269)
bones/39/scale = Vector3(1.0000001, 0.9999997, 1.0000001)
bones/40/rotation = Quaternion(-0.12852004, -0.0027236014, 0.021002676, 0.9914808)
bones/41/position = Vector3(4.3425816e-10, 0.32867002, -1.4901161e-08)
bones/41/scale = Vector3(1, 1, 1)
bones/42/rotation = Quaternion(0.014601316, 0.61016726, 0.7920035, -0.0146013545)
bones/42/scale = Vector3(1, 0.99999994, 1)
bones/43/rotation = Quaternion(-0.12852004, -0.0027236445, 0.021002673, 0.9914808)
bones/44/position = Vector3(2.674044e-09, 0.32867005, 2.980233e-08)
bones/44/rotation = Quaternion(3.0908627e-08, 0.7071068, 0.7071068, 3.0908623e-08)
bones/44/scale = Vector3(1, 1, 1.0000001)
bones/45/rotation = Quaternion(0.014601325, 0.61016726, 0.7920035, -0.01460136)
bones/45/scale = Vector3(0.9999998, 1.0000002, 0.9999998)
bones/46/rotation = Quaternion(-0.12852617, -0.002721962, 0.020982731, 0.9914804)
bones/47/position = Vector3(-1.2710207e-09, 0.32867, -2.9802315e-08)
bones/48/rotation = Quaternion(0.014601332, 0.61016726, 0.7920035, -0.01460137)
bones/48/scale = Vector3(1.0000001, 0.99999994, 1.0000002)
bones/49/rotation = Quaternion(-0.12852007, -0.002723642, 0.021002665, 0.9914808)
bones/50/position = Vector3(-5.9459826e-10, 0.32866988, 1.192093e-07)
bones/50/scale = Vector3(1, 1.0000001, 1.0000001)
bones/51/rotation = Quaternion(0.014601342, 0.61016726, 0.7920035, -0.014601373)
bones/51/scale = Vector3(1, 0.9999999, 1)
bones/52/rotation = Quaternion(-0.12852004, -0.002723638, 0.021002673, 0.9914808)
bones/53/position = Vector3(2.1218603e-10, 0.32867005, -1.0430813e-07)
bones/54/position = Vector3(0.027694631, -0.17221716, 0.100803375)
bones/54/rotation = Quaternion(1.972289e-08, 0.9926454, 0.12105839, -7.494269e-08)
bones/55/rotation = Quaternion(-0.12852004, -0.0027236007, 0.021002678, 0.9914808)
bones/57/position = Vector3(-0.0281685, 0.20282167, 0.35848248)
bones/57/rotation = Quaternion(-3.308723e-24, -9.4244046e-05, 1, 3.1172883e-28)
bones/58/rotation = Quaternion(-3.0908623e-08, 0.7071068, 0.7071068, -3.0908623e-08)
bones/61/rotation = Quaternion(-9.504522e-08, 0.812197, 0.58338326, -6.1319156e-08)
bones/64/rotation = Quaternion(-0.3913379, -0.6052313, -0.4470465, 0.52981055)
bones/66/rotation = Quaternion(-0.391338, 0.6052313, 0.44704652, 0.52981055)
bones/68/rotation = Quaternion(0.5, -0.5, -0.50000006, -0.50000006)
bones/69/rotation = Quaternion(0.5, -0.49999997, -0.5, -0.5000001)
bones/70/rotation = Quaternion(0.49999997, 0.50000006, 0.49999997, -0.49999997)
bones/71/rotation = Quaternion(0.49999994, 0.5, 0.50000006, -0.5)
bones/73/rotation = Quaternion(0.49999997, 0.50000006, 0.49999997, -0.49999997)
bones/74/rotation = Quaternion(-9.504519e-08, 0.8121969, 0.5833834, -6.131919e-08)
bones/77/position = Vector3(2.3268563e-17, 0.05482435, 0.12812558)
bones/79/rotation = Quaternion(0.3208326, -0.050354335, 0.10813927, 0.93959403)
bones/80/rotation = Quaternion(-0.21289138, 8.600591e-08, 4.322079e-08, 0.97707593)
bones/81/rotation = Quaternion(-0.5143402, -7.388152e-08, 1.10470424e-07, 0.85758626)
bones/82/position = Vector3(0.084121384, 0.14181197, -0.03231147)
bones/82/rotation = Quaternion(-0.58918065, -0.25895923, -0.7630483, 0.059696496)
bones/83/rotation = Quaternion(6.2974344e-08, -1.1263643e-08, -0.38414818, 0.9232715)
bones/84/rotation = Quaternion(6.6973605e-08, 4.7812985e-09, -0.33519146, 0.94215006)
bones/86/rotation = Quaternion(0.92261106, 2.8356592e-08, -2.0713499e-07, -0.38573158)
bones/87/rotation = Quaternion(-2.7826081e-08, 0.9630483, -0.26932913, -1.8751241e-07)
bones/88/position = Vector3(0.08412138, 0.14181198, -0.032311488)
bones/88/rotation = Quaternion(-0.58918065, -0.25895923, -0.76304835, 0.059696525)
bones/89/rotation = Quaternion(3.5297905e-08, 5.3526556e-08, -0.13156128, 0.99130803)
bones/90/position = Vector3(-0.084121406, 0.14181197, -0.032311473)
bones/90/rotation = Quaternion(-0.5891804, 0.25895923, 0.7630484, 0.059696212)
bones/91/rotation = Quaternion(9.277246e-08, 3.8241224e-09, 0.38414818, 0.9232715)
bones/92/rotation = Quaternion(6.903899e-08, -5.296421e-08, 0.33519143, 0.94215006)
bones/94/position = Vector3(-0.084121406, 0.14181198, -0.03231144)
bones/94/rotation = Quaternion(-0.58918047, 0.25895917, 0.7630484, 0.059696347)
bones/95/rotation = Quaternion(5.532101e-08, -5.7254912e-08, 0.1315613, 0.99130803)
bones/100/position = Vector3(0.32852378, 0.3147388, 0.23616084)
bones/101/position = Vector3(-0.08412141, 0.1630015, 0.23586878)
bones/101/rotation = Quaternion(-0.48127612, -0.15524887, 0.79069614, 0.3450662)
bones/102/position = Vector3(-0.13383691, 0.073462784, 0.1633934)
bones/102/rotation = Quaternion(-0.5039871, 0.041544523, 0.86258376, 0.014845222)
bones/103/position = Vector3(-0.14529794, -0.0957029, 0.17302388)
bones/103/rotation = Quaternion(-0.46090594, 0.20807345, 0.8176594, -0.27514416)
bones/104/position = Vector3(-0.118225425, 0.0012086332, 0.20395093)
bones/104/rotation = Quaternion(-0.32750702, 0.3853156, 0.62122965, -0.5986191)
bones/105/position = Vector3(-0.32852378, 0.3147388, 0.23616084)

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeBlendTree_ujyfj")
anim_player = NodePath("../AnimationPlayer")
parameters/Transition/current_state = "idle"
parameters/Transition/transition_request = ""
parameters/Transition/current_index = 0
parameters/shoot/active = false
parameters/shoot/internal_active = false
parameters/shoot/request = 0

[node name="SoundEffectManager" type="Node3D" parent="." index="3"]
script = ExtResource("2_lbsk3")
metadata/_custom_type_script = "uid://fxqs1lioec3e"

[node name="Slash" parent="SoundEffectManager" index="0" instance=ExtResource("3_b4n07")]
stream = SubResource("AudioStreamRandomizer_j0h5x")

[node name="Death" parent="SoundEffectManager" index="1" instance=ExtResource("3_b4n07")]
stream = SubResource("AudioStreamRandomizer_s57sc")
