[gd_scene format=3 uid="uid://dtxcbfvali8ib"]

[ext_resource type="PackedScene" uid="uid://54ektyxf0nc1" path="res://assets/characters/enemies/peacock/peacock.glb" id="1_06s3q"]
[ext_resource type="Script" uid="uid://dpx7tmnfa6now" path="res://game/sound/sfx/sound_requester.gd" id="2_j0h5x"]
[ext_resource type="Shader" uid="uid://chiexwbpmjuuj" path="res://assets/vfx/projectile_realistic/shader_fireheader.tres" id="2_rg3mh"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rg3mh"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("2_rg3mh")
shader_parameter/ball_color = Color(1.6978991, 0, 0, 1)
shader_parameter/frensel_power = -1.36
shader_parameter/visibility = 0.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lk2ep"]
animation = &"walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rg3mh"]
animation = &"swipe"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_g63n1"]
animation = &"hurt"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lbxcw"]
animation = &"idle"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_gg60l"]
fadeout_time = 0.2

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_gg60l"]
input_0/name = "idle"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "walk"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_g63n1"]
fadein_time = 0.2
fadeout_time = 0.15

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_ujyfj"]
nodes/output/position = Vector2(980, 120)
nodes/Animation/node = SubResource("AnimationNodeAnimation_lbxcw")
nodes/Animation/position = Vector2(-260, 80)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_lk2ep")
"nodes/Animation 2/position" = Vector2(-260, 260)
nodes/Transition/node = SubResource("AnimationNodeTransition_gg60l")
nodes/Transition/position = Vector2(-40, 140)
nodes/shoot/node = SubResource("AnimationNodeOneShot_g63n1")
nodes/shoot/position = Vector2(300, 140)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_rg3mh")
"nodes/Animation 3/position" = Vector2(100, 360)
nodes/Hurt/node = SubResource("AnimationNodeOneShot_gg60l")
nodes/Hurt/position = Vector2(660, 120)
"nodes/Animation 4/node" = SubResource("AnimationNodeAnimation_g63n1")
"nodes/Animation 4/position" = Vector2(480, 460)
node_connections = [&"output", 0, &"Hurt", &"Transition", 0, &"Animation", &"Transition", 1, &"Animation 2", &"shoot", 0, &"Transition", &"shoot", 1, &"Animation 3", &"Hurt", 0, &"shoot", &"Hurt", 1, &"Animation 4"]

[node name="peacock" unique_id=918755390 instance=ExtResource("1_06s3q")]
script = ExtResource("2_j0h5x")

[node name="Skeleton3D" parent="Armature" parent_id_path=PackedInt32Array(541564418) index="0" unique_id=581143520]
bones/0/position = Vector3(0, 0.044379294, 0.038039602)
bones/0/rotation = Quaternion(-0.3964934, 4.053971e-15, 4.053972e-15, 0.9180376)
bones/1/position = Vector3(8.34908e-17, 0.1400718, -0.063571766)
bones/1/rotation = Quaternion(-0.26127434, -7.287545e-08, 1.9725674e-08, 0.9652647)
bones/2/position = Vector3(-2.8323418e-15, 0.25162482, -0.1287356)
bones/2/rotation = Quaternion(-0.12134244, 0.022223743, -0.057838, 0.990675)
bones/3/position = Vector3(0.0070731263, 0.314054, -0.14447421)
bones/3/rotation = Quaternion(-0.1228074, 0.022309348, -0.05780508, 0.99049443)
bones/4/position = Vector3(0.014160622, 0.37666285, -0.16045605)
bones/4/rotation = Quaternion(-0.16651218, 0.024845038, -0.056761358, 0.98409075)
bones/5/position = Vector3(0.02652259, 0.4399373, -0.18186429)
bones/5/rotation = Quaternion(-0.1352816, -0.18254334, 0.018474493, 0.97367126)
bones/6/position = Vector3(0.04794986, 0.4246788, -0.23516923)
bones/6/rotation = Quaternion(-0.7841481, -0.1421411, -0.11601421, 0.59283096)
bones/7/position = Vector3(0.05345588, 0.38564676, -0.24031457)
bones/7/rotation = Quaternion(-0.7841481, -0.1421411, -0.11601421, 0.59283096)
bones/8/position = Vector3(0.003787291, 0.5251799, -0.14212456)
bones/8/rotation = Quaternion(-0.1214977, 0.8697339, 0.45814797, 0.13748328)
bones/9/position = Vector3(-0.01555349, 0.55675423, -0.09834616)
bones/9/rotation = Quaternion(-0.12679292, 0.85110855, 0.49188495, 0.13261579)
bones/10/position = Vector3(-0.036541417, 0.58608496, -0.04963799)
bones/10/rotation = Quaternion(-0.15373312, 0.7162511, 0.67329127, 0.1001478)
bones/11/position = Vector3(0.07272109, 0.49777004, -0.19119121)
bones/11/rotation = Quaternion(-0.3599214, -0.7537167, -0.4150477, 0.36069834)
bones/12/position = Vector3(0.10904512, 0.5148707, -0.17540093)
bones/12/rotation = Quaternion(0.2985751, 0.70303535, 0.617554, -0.18767343)
bones/13/position = Vector3(-0.010764703, 0.49012876, -0.22256312)
bones/13/rotation = Quaternion(-0.54549485, 0.5458302, 0.29175135, 0.5651424)
bones/14/position = Vector3(-0.050681815, 0.50025123, -0.23542239)
bones/14/rotation = Quaternion(-0.5549259, 0.5644392, 0.4873537, 0.3687169)
bones/15/position = Vector3(-0.031049225, 0.44438583, -0.2209011)
bones/15/rotation = Quaternion(0.65498537, -0.45396763, -0.33716032, -0.5012291)
bones/16/position = Vector3(-0.029693205, 0.44369924, -0.22015947)
bones/16/rotation = Quaternion(0.65498537, -0.45396763, -0.33716032, -0.5012291)
bones/17/position = Vector3(0.09392413, 0.45582438, -0.17393915)
bones/17/rotation = Quaternion(0.45396757, 0.65498525, 0.5012291, -0.33716035)
bones/18/position = Vector3(0.09254549, 0.4548875, -0.17422515)
bones/18/rotation = Quaternion(0.45396763, 0.6549854, 0.50122917, -0.33716026)
bones/19/position = Vector3(-0.028717592, 0.44279158, -0.21950749)
bones/19/rotation = Quaternion(0.65498537, -0.45396763, -0.33716032, -0.5012291)
bones/20/position = Vector3(0.091542065, 0.4537987, -0.17431684)
bones/20/rotation = Quaternion(0.45396757, 0.65498525, 0.5012291, -0.33716035)
bones/21/position = Vector3(0.08412139, 0.24622457, -0.16300146)
bones/21/rotation = Quaternion(-0.5843122, -0.44932917, -0.66888416, -0.096314825)
bones/22/position = Vector3(0.13383693, 0.17374921, -0.073462784)
bones/22/rotation = Quaternion(0.3668698, 0.63931537, 0.5805625, 0.34587532)
bones/23/position = Vector3(0.14529793, 0.18337967, 0.09570292)
bones/23/rotation = Quaternion(0.13135353, 0.72530264, 0.43104237, 0.520466)
bones/24/position = Vector3(0.118225455, 0.2143067, -0.0012086034)
bones/24/rotation = Quaternion(-0.19170523, 0.71173495, 0.16681649, 0.65487)
bones/25/position = Vector3(0, 0.21864334, -0.17154373)
bones/25/rotation = Quaternion(0.9913455, 1.9562004e-08, -1.4772206e-07, -0.13127838)
bones/26/position = Vector3(1.9084076e-15, 0.13220105, -0.19484654)
bones/26/rotation = Quaternion(-4.5241784e-08, 0.14057074, 0.9900707, -6.423407e-09)
bones/27/position = Vector3(5.10925e-18, 0.16308166, 0.011440381)
bones/27/rotation = Quaternion(0.70710665, -1.1520231e-07, -1.152023e-07, 0.7071069)
bones/28/position = Vector3(-3.552714e-15, 0.19374925, 0.13655879)
bones/28/rotation = Quaternion(0.12299067, 0.92927855, 0.32586497, -0.12299062)
bones/28/scale = Vector3(0.99999994, 1, 0.9999998)
bones/29/position = Vector3(0.10147421, 0.44267422, 0.32567066)
bones/29/rotation = Quaternion(0.028699331, 0.95713645, 0.28821105, 0.000677255)
bones/29/scale = Vector3(0.9999999, 1, 0.9999998)
bones/30/position = Vector3(0.1194025, 0.7162005, 0.5070155)
bones/30/rotation = Quaternion(-0.12341319, 0.95354277, 0.27088636, -0.04632531)
bones/30/scale = Vector3(0.9999999, 1.0000002, 0.9999999)
bones/31/position = Vector3(0.050295763, 0.9866235, 0.6805657)
bones/31/rotation = Quaternion(-0.27235883, 0.9254806, 0.24661052, -0.092139095)
bones/31/scale = Vector3(1.0000002, 0.9999999, 1)
bones/32/position = Vector3(-0.10045884, 1.2265552, 0.84708846)
bones/32/rotation = Quaternion(-0.41431558, 0.8736702, 0.2160067, -0.1355886)
bones/32/scale = Vector3(1.0000001, 0.99999994, 1)
bones/33/position = Vector3(-0.3191473, 1.4117172, 1.0080677)
bones/33/rotation = Quaternion(-0.5456409, 0.79944086, 0.17985986, -0.17555885)
bones/33/scale = Vector3(0.99999976, 1.0000002, 0.9999997)
bones/34/position = Vector3(-0.084121406, 0.24622457, -0.16300146)
bones/34/rotation = Quaternion(-0.5843122, 0.44932914, 0.6688842, -0.096314974)
bones/35/position = Vector3(-0.13383693, 0.17374921, -0.07346277)
bones/35/rotation = Quaternion(-0.36686978, 0.6393153, 0.5805625, -0.3458754)
bones/36/position = Vector3(-0.14529793, 0.18337967, 0.09570293)
bones/36/rotation = Quaternion(-0.13135347, 0.72530264, 0.43104243, -0.520466)
bones/37/position = Vector3(-0.118225425, 0.21430671, -0.0012086183)
bones/37/rotation = Quaternion(0.19170518, 0.711735, 0.16681647, -0.65487)

[node name="Peacock" parent="Armature/Skeleton3D" index="0" unique_id=207821676]
material_overlay = SubResource("ShaderMaterial_rg3mh")

[node name="AnimationTree" type="AnimationTree" parent="." index="2" unique_id=656910023]
tree_root = SubResource("AnimationNodeBlendTree_ujyfj")
anim_player = NodePath("../AnimationPlayer")
parameters/Transition/current_state = "idle"
parameters/Transition/transition_request = ""
parameters/Transition/current_index = 0
parameters/shoot/active = false
parameters/shoot/internal_active = false
parameters/shoot/request = 0
parameters/Hurt/active = false
parameters/Hurt/internal_active = false
parameters/Hurt/request = 0
