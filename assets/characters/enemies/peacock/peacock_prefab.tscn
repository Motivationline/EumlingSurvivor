[gd_scene load_steps=29 format=3 uid="uid://dtxcbfvali8ib"]

[ext_resource type="PackedScene" uid="uid://54ektyxf0nc1" path="res://assets/characters/enemies/peacock/peacock.glb" id="1_06s3q"]
[ext_resource type="Script" uid="uid://fxqs1lioec3e" path="res://game/sound/sfx/manager/sound_effect_manager.gd" id="2_lbsk3"]
[ext_resource type="PackedScene" uid="uid://cpbr8uxxklmxm" path="res://game/sound/sfx/sound_presets/enemy_preset.tscn" id="3_b4n07"]
[ext_resource type="AudioStream" uid="uid://db05veivwt285" path="res://assets/characters/enemies/peacock/sounds/slash_1.wav" id="4_s57sc"]
[ext_resource type="AudioStream" uid="uid://pky3frkxp8hm" path="res://assets/characters/enemies/peacock/sounds/slash_2.wav" id="5_3f0b6"]
[ext_resource type="AudioStream" uid="uid://bqngr1fx2bqe" path="res://assets/characters/enemies/peacock/sounds/slash_3.wav" id="6_ktqvi"]
[ext_resource type="AudioStream" uid="uid://cmp20igs7cipi" path="res://assets/characters/enemies/peacock/sounds/slash_4.wav" id="7_sqecj"]
[ext_resource type="AudioStream" uid="uid://blt2iiuhvm43y" path="res://assets/characters/enemies/peacock/sounds/slash_5.wav" id="8_bcwtc"]
[ext_resource type="AudioStream" uid="uid://cfmhfuoheaa7h" path="res://assets/characters/enemies/peacock/sounds/slash_6.wav" id="9_mtje3"]
[ext_resource type="AudioStream" uid="uid://puwjegppa1uy" path="res://assets/characters/enemies/peacock/sounds/death_1.wav" id="10_lk2ep"]
[ext_resource type="AudioStream" uid="uid://iqb0mgbwd4nr" path="res://assets/characters/enemies/peacock/sounds/death_2.wav" id="11_rg3mh"]
[ext_resource type="AudioStream" uid="uid://do5e1gi02kabn" path="res://assets/characters/enemies/peacock/sounds/death_3.wav" id="12_lbxcw"]
[ext_resource type="AudioStream" uid="uid://br0b2pgf7ios5" path="res://assets/characters/enemies/peacock/sounds/death_4.wav" id="13_g63n1"]
[ext_resource type="AudioStream" uid="uid://cp1lcnj843xkh" path="res://assets/characters/enemies/peacock/sounds/death_5.wav" id="14_gg60l"]
[ext_resource type="AudioStream" uid="uid://4ggxibgyrynx" path="res://assets/characters/enemies/peacock/sounds/death_6.wav" id="15_ujyfj"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qosx7"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lbsk3"]
animation = &"swipe"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_b4n07"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lbsk3"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_b4n07"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_j0h5x"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"attack"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0k5eo"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0h8ur"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xxgrn"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m0qma"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"attack"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_b4n07"]
states/Start/position = Vector2(208, 87)
states/idle/node = SubResource("AnimationNodeAnimation_qosx7")
states/idle/position = Vector2(418, 87)
states/swipe/node = SubResource("AnimationNodeAnimation_lbsk3")
states/swipe/position = Vector2(491, -37)
states/walk/node = SubResource("AnimationNodeAnimation_b4n07")
states/walk/position = Vector2(592, 87)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_lbsk3"), "swipe", "idle", SubResource("AnimationNodeStateMachineTransition_b4n07"), "idle", "swipe", SubResource("AnimationNodeStateMachineTransition_j0h5x"), "idle", "walk", SubResource("AnimationNodeStateMachineTransition_0k5eo"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_0h8ur"), "swipe", "walk", SubResource("AnimationNodeStateMachineTransition_xxgrn"), "walk", "swipe", SubResource("AnimationNodeStateMachineTransition_m0qma")]
graph_offset = Vector2(-178, -99)

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_j0h5x"]
random_pitch = 1.2
random_volume_offset_db = 2.0
streams_count = 6
stream_0/stream = ExtResource("4_s57sc")
stream_1/stream = ExtResource("5_3f0b6")
stream_2/stream = ExtResource("6_ktqvi")
stream_3/stream = ExtResource("7_sqecj")
stream_4/stream = ExtResource("8_bcwtc")
stream_5/stream = ExtResource("9_mtje3")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_s57sc"]
streams_count = 6
stream_0/stream = ExtResource("10_lk2ep")
stream_1/stream = ExtResource("11_rg3mh")
stream_2/stream = ExtResource("12_lbxcw")
stream_3/stream = ExtResource("13_g63n1")
stream_4/stream = ExtResource("14_gg60l")
stream_5/stream = ExtResource("15_ujyfj")

[node name="peacock" instance=ExtResource("1_06s3q")]

[node name="Skeleton3D" parent="Armature" index="0"]
bones/1/position = Vector3(-8.4464885e-18, -0.0380396, 0.025214933)
bones/1/rotation = Quaternion(0.36878735, 1.9243504e-15, 3.5400522e-15, 0.9295138)
bones/2/position = Vector3(-3.2117684e-16, 0.06357177, 0.12090743)
bones/2/rotation = Quaternion(0.4977962, -6.5478886e-08, -3.7582563e-08, 0.867294)
bones/3/position = Vector3(-1.7461133e-15, 0.12873562, 0.23246044)
bones/3/rotation = Quaternion(0.736901, 6.0554706e-10, -9.646731e-08, 0.6760007)
bones/4/position = Vector3(8.504749e-09, 0.12316259, 0.29698846)
bones/4/rotation = Quaternion(0.5888214, 4.4376684e-08, -3.6125094e-09, 0.80826324)
bones/5/position = Vector3(1.2281525e-08, 0.14309095, 0.3588607)
bones/5/rotation = Quaternion(0.12133202, -7.939178e-08, 6.084694e-08, 0.992612)
bones/6/position = Vector3(-2.3641926e-09, 0.20620188, 0.35848248)
bones/6/rotation = Quaternion(0.6889226, -0.1640778, -0.16357459, 0.6868097)
bones/7/position = Vector3(0.026794184, 0.2592623, 0.3586651)
bones/7/rotation = Quaternion(0.0014940056, -0.00035583338, -0.23168525, 0.9727896)
bones/8/position = Vector3(0.03433502, 0.27419537, 0.32260364)
bones/8/rotation = Quaternion(0.0014940056, -0.0003558334, -0.23168528, 0.9727896)
bones/9/position = Vector3(-0.029719424, 0.14734869, 0.4293027)
bones/9/rotation = Quaternion(0.037134424, 0.15591891, 0.96021414, 0.22869012)
bones/10/position = Vector3(-0.054236963, 0.098796695, 0.44744503)
bones/10/rotation = Quaternion(0.02814261, 0.11816379, 0.96558756, 0.22996996)
bones/11/position = Vector3(-0.080750406, 0.046292268, 0.46205992)
bones/11/rotation = Quaternion(-0.025131214, -0.10551989, 0.9670509, 0.23031858)
bones/12/position = Vector3(0.04445495, 0.19494599, 0.4173296)
bones/12/rotation = Quaternion(0.07057374, -0.13061552, -0.8748668, 0.46105003)
bones/13/position = Vector3(0.078462616, 0.17161739, 0.42999685)
bones/13/rotation = Quaternion(-0.020213865, 0.06733562, -0.94965714, 0.30530095)
bones/14/position = Vector3(-0.03544766, 0.23529486, 0.4173296)
bones/14/rotation = Quaternion(0.12187377, 0.08478108, 0.57311994, 0.805911)
bones/15/position = Vector3(-0.07440899, 0.2488138, 0.42999682)
bones/15/rotation = Quaternion(-0.048396207, -0.05099504, 0.71008724, 0.70059514)
bones/16/position = Vector3(-0.05391416, 0.24806705, 0.3725803)
bones/16/rotation = Quaternion(0.00080480275, -0.0013080229, 0.52404, 0.8516924)
bones/17/position = Vector3(-0.052604344, 0.24740852, 0.37173712)
bones/17/rotation = Quaternion(0.00080479827, -0.0013080158, 0.5240398, 0.8516924)
bones/18/position = Vector3(0.06569544, 0.18766716, 0.3725803)
bones/18/rotation = Quaternion(0.001308058, 0.0008048242, -0.85169244, 0.5240398)
bones/19/position = Vector3(0.06438797, 0.18833031, 0.37173712)
bones/19/rotation = Quaternion(0.0013080143, 0.0008047974, -0.85169244, 0.5240398)
bones/20/position = Vector3(-0.05165586, 0.24693313, 0.37070024)
bones/20/rotation = Quaternion(0.00080480287, -0.0013080232, 0.52404, 0.8516924)
bones/21/position = Vector3(0.06344235, 0.18881138, 0.37070024)
bones/21/rotation = Quaternion(0.0013080577, 0.00080482406, -0.85169244, 0.5240398)
bones/22/position = Vector3(0.0841214, 0.1630015, 0.2270602)
bones/22/rotation = Quaternion(-0.4812761, 0.15524887, -0.79069626, 0.3450662)
bones/23/position = Vector3(0.13383691, 0.07346279, 0.15458483)
bones/23/rotation = Quaternion(-0.5039871, -0.041544523, -0.86258376, 0.014845163)
bones/24/position = Vector3(0.14529794, -0.09570289, 0.16421531)
bones/24/rotation = Quaternion(0.46090606, 0.20807342, 0.8176594, 0.27514416)
bones/25/position = Vector3(0.118225455, 0.0012086183, 0.19514234)
bones/25/rotation = Quaternion(0.32750696, 0.38531563, 0.6212297, 0.5986191)
bones/26/position = Vector3(-3.086731e-15, 0.17154375, 0.199479)
bones/26/rotation = Quaternion(-0.60815936, -1.1828772e-07, 9.062282e-08, 0.79381496)
bones/27/position = Vector3(1.8492063e-15, 0.19484654, 0.11303668)
bones/27/rotation = Quaternion(-3.6532825e-08, -0.6006871, 0.7994842, 2.7448708e-08)
bones/28/position = Vector3(1.9062875e-15, -0.011440371, 0.14391729)
bones/28/rotation = Quaternion(1, -2.3357442e-16, -1.6292068e-07, 9.6857555e-08)
bones/29/position = Vector3(-3.583036e-15, -0.13655877, 0.1745849)
bones/29/rotation = Quaternion(4.1589878e-08, 0.33388788, 0.9405064, -0.06298135)
bones/29/scale = Vector3(1.185726, 0.7112647, 1.1857259)
bones/30/position = Vector3(0.027694607, -0.31635344, 0.32140437)
bones/30/rotation = Quaternion(-0.011862968, 0.5257474, 0.850423, 0.01515843)
bones/30/scale = Vector3(1.0000001, 0.9999996, 0.99999994)
bones/31/position = Vector3(0.015121276, -0.46317562, 0.6151848)
bones/31/rotation = Quaternion(-0.025289107, 0.4286005, 0.90268123, 0.028786626)
bones/31/scale = Vector3(1, 0.9999998, 0.99999994)
bones/32/position = Vector3(-0.009082251, -0.6705427, 0.8690132)
bones/32/rotation = Quaternion(-0.038397644, 0.32607976, 0.94362557, 0.042053394)
bones/32/scale = Vector3(0.9999998, 1, 0.9999997)
bones/33/position = Vector3(-0.04338987, -0.92814094, 1.0701919)
bones/33/rotation = Quaternion(-0.051024027, 0.21946977, 0.97274226, 0.054792095)
bones/33/scale = Vector3(1.0000001, 0.99999976, 1.0000001)
bones/34/position = Vector3(-0.08542232, -1.2237998, 1.2078375)
bones/34/rotation = Quaternion(-0.06300963, 0.110105924, 0.9896659, 0.066842675)
bones/34/scale = Vector3(1, 0.9999997, 0.99999994)
bones/35/position = Vector3(-3.5596704e-15, -0.1365588, 0.17458485)
bones/36/rotation = Quaternion(0.04453462, 0.9011328, 0.42894423, -0.044534627)
bones/36/scale = Vector3(1.185726, 0.71126485, 1.185726)
bones/37/position = Vector3(0.027694631, -0.17221716, 0.10080339)
bones/37/rotation = Quaternion(1.9722885e-08, 0.9926454, 0.121058464, -7.494269e-08)
bones/38/position = Vector3(5.121226e-10, 0.32867002, 1.3221167e-08)
bones/38/rotation = Quaternion(8.432136e-09, 0.7071068, 0.7071068, -5.3385094e-08)
bones/39/rotation = Quaternion(-0.013610798, 0.62483144, 0.78052235, 0.013610853)
bones/39/scale = Vector3(1.0000001, 0.9999997, 1.0000001)
bones/40/rotation = Quaternion(-0.1100476, 0.002160345, -0.019488128, 0.9937329)
bones/41/position = Vector3(4.3425816e-10, 0.32867002, -1.4901161e-08)
bones/41/scale = Vector3(1, 1, 1)
bones/42/rotation = Quaternion(-0.013610798, 0.62483144, 0.78052235, 0.013610757)
bones/42/scale = Vector3(1, 0.99999994, 1)
bones/43/rotation = Quaternion(-0.110047616, 0.0021603007, -0.019488132, 0.9937329)
bones/44/position = Vector3(2.674044e-09, 0.32867005, 2.980233e-08)
bones/44/rotation = Quaternion(3.0908627e-08, 0.7071068, 0.7071068, 3.0908623e-08)
bones/44/scale = Vector3(1, 1, 1.0000001)
bones/45/rotation = Quaternion(-0.013610801, 0.62483144, 0.78052235, 0.01361076)
bones/45/scale = Vector3(0.9999998, 1.0000002, 0.9999998)
bones/46/rotation = Quaternion(-0.11004759, 0.0021603014, -0.019488132, 0.9937329)
bones/47/position = Vector3(-1.2710207e-09, 0.32867, -2.9802315e-08)
bones/48/rotation = Quaternion(-0.013610803, 0.62483144, 0.78052235, 0.013610769)
bones/48/scale = Vector3(1.0000001, 0.99999994, 1.0000002)
bones/49/rotation = Quaternion(-0.11004759, 0.002160302, -0.019488133, 0.9937329)
bones/50/position = Vector3(-5.9459826e-10, 0.32866988, 1.192093e-07)
bones/50/scale = Vector3(1, 1.0000001, 1.0000001)
bones/51/rotation = Quaternion(-0.013610809, 0.6248313, 0.78052247, 0.013610767)
bones/51/scale = Vector3(1, 0.9999999, 1)
bones/52/rotation = Quaternion(-0.110047616, 0.002160301, -0.019488133, 0.9937329)
bones/53/position = Vector3(2.1218603e-10, 0.32867005, -1.0430813e-07)
bones/54/position = Vector3(0.027694631, -0.17221716, 0.100803375)
bones/54/rotation = Quaternion(1.972289e-08, 0.9926454, 0.12105839, -7.494269e-08)
bones/55/rotation = Quaternion(-0.110047616, 0.0021603445, -0.01948813, 0.9937329)
bones/57/position = Vector3(9.178768e-17, 0.20620188, 0.35848248)
bones/57/rotation = Quaternion(-0.00035584447, -0.0014940461, 0.9727896, 0.23168525)
bones/58/rotation = Quaternion(-3.0908623e-08, 0.7071068, 0.7071068, -3.0908623e-08)
bones/61/rotation = Quaternion(-9.504522e-08, 0.812197, 0.58338326, -6.1319156e-08)
bones/64/rotation = Quaternion(-0.3913379, -0.6052313, -0.4470465, 0.52981055)
bones/66/rotation = Quaternion(-0.391338, 0.6052313, 0.44704652, 0.52981055)
bones/68/rotation = Quaternion(0.5, -0.5, -0.50000006, -0.50000006)
bones/69/rotation = Quaternion(0.5, -0.49999997, -0.5, -0.5000001)
bones/70/rotation = Quaternion(0.49999997, 0.50000006, 0.49999997, -0.49999997)
bones/71/rotation = Quaternion(0.49999994, 0.5, 0.50000006, -0.5)
bones/73/rotation = Quaternion(0.49999997, 0.50000006, 0.49999997, -0.49999997)
bones/74/rotation = Quaternion(-9.504519e-08, 0.8121969, 0.5833834, -6.131919e-08)
bones/77/position = Vector3(2.3268563e-17, 0.054824345, 0.11931701)
bones/79/rotation = Quaternion(0.30259928, 2.446252e-08, -1.0681258e-07, 0.95311797)
bones/80/rotation = Quaternion(-0.19756624, 8.364086e-08, 4.318849e-08, 0.9802896)
bones/81/rotation = Quaternion(-0.48640305, -7.19709e-08, 1.0489356e-07, 0.8737346)
bones/82/position = Vector3(0.084121384, 0.14181197, -0.03231147)
bones/82/rotation = Quaternion(-0.58918065, -0.25895923, -0.7630483, 0.059696496)
bones/83/rotation = Quaternion(6.2974344e-08, -1.1263643e-08, -0.38414818, 0.9232715)
bones/84/rotation = Quaternion(6.6973605e-08, 4.7812985e-09, -0.33519146, 0.94215006)
bones/86/rotation = Quaternion(0.92261106, 2.8356592e-08, -2.0713499e-07, -0.38573158)
bones/87/rotation = Quaternion(-2.7826081e-08, 0.9630483, -0.26932913, -1.8751241e-07)
bones/88/position = Vector3(0.08412138, 0.14181198, -0.032311488)
bones/88/rotation = Quaternion(-0.58918065, -0.25895923, -0.76304835, 0.059696525)
bones/89/rotation = Quaternion(3.5297905e-08, 5.3526556e-08, -0.13156128, 0.99130803)
bones/90/position = Vector3(-0.084121406, 0.14181197, -0.032311473)
bones/90/rotation = Quaternion(-0.5891804, 0.25895923, 0.7630484, 0.059696212)
bones/91/rotation = Quaternion(9.277246e-08, 3.8241224e-09, 0.38414818, 0.9232715)
bones/92/rotation = Quaternion(6.903899e-08, -5.296421e-08, 0.33519143, 0.94215006)
bones/94/position = Vector3(-0.084121406, 0.14181198, -0.03231144)
bones/94/rotation = Quaternion(-0.58918047, 0.25895917, 0.7630484, 0.059696347)
bones/95/rotation = Quaternion(5.532101e-08, -5.7254912e-08, 0.1315613, 0.99130803)
bones/100/position = Vector3(0.32852378, 0.3147388, 0.23616084)
bones/101/position = Vector3(-0.08412141, 0.1630015, 0.2270602)
bones/101/rotation = Quaternion(-0.48127612, -0.15524887, 0.79069614, 0.3450662)
bones/102/position = Vector3(-0.13383691, 0.073462784, 0.15458481)
bones/102/rotation = Quaternion(-0.5039871, 0.041544523, 0.86258376, 0.014845222)
bones/103/position = Vector3(-0.14529794, -0.0957029, 0.1642153)
bones/103/rotation = Quaternion(-0.46090594, 0.20807345, 0.8176594, -0.27514416)
bones/104/position = Vector3(-0.118225425, 0.0012086332, 0.19514234)
bones/104/rotation = Quaternion(-0.32750702, 0.3853156, 0.62122965, -0.5986191)
bones/105/position = Vector3(-0.32852378, 0.3147388, 0.23616084)

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeStateMachine_b4n07")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/attack = false
parameters/conditions/idle = false
parameters/conditions/walk = false

[node name="SoundEffectManager" type="Node3D" parent="." index="3"]
script = ExtResource("2_lbsk3")
metadata/_custom_type_script = "uid://fxqs1lioec3e"

[node name="Slash" parent="SoundEffectManager" index="0" instance=ExtResource("3_b4n07")]
stream = SubResource("AudioStreamRandomizer_j0h5x")

[node name="Death" parent="SoundEffectManager" index="1" instance=ExtResource("3_b4n07")]
stream = SubResource("AudioStreamRandomizer_s57sc")
