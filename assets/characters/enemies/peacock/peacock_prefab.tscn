[gd_scene load_steps=22 format=3 uid="uid://dtxcbfvali8ib"]

[ext_resource type="PackedScene" uid="uid://54ektyxf0nc1" path="res://assets/characters/enemies/peacock/peacock.glb" id="1_06s3q"]
[ext_resource type="Script" uid="uid://fxqs1lioec3e" path="res://game/sound/sfx/manager/sound_effect_manager.gd" id="2_lbsk3"]
[ext_resource type="PackedScene" uid="uid://cpbr8uxxklmxm" path="res://game/sound/sfx/sound_presets/enemy_preset.tscn" id="3_b4n07"]
[ext_resource type="AudioStream" uid="uid://db05veivwt285" path="res://assets/characters/enemies/peacock/sounds/slash_1.wav" id="4_s57sc"]
[ext_resource type="AudioStream" uid="uid://pky3frkxp8hm" path="res://assets/characters/enemies/peacock/sounds/slash_2.wav" id="5_3f0b6"]
[ext_resource type="AudioStream" uid="uid://bqngr1fx2bqe" path="res://assets/characters/enemies/peacock/sounds/slash_3.wav" id="6_ktqvi"]
[ext_resource type="AudioStream" uid="uid://cmp20igs7cipi" path="res://assets/characters/enemies/peacock/sounds/slash_4.wav" id="7_sqecj"]
[ext_resource type="AudioStream" uid="uid://blt2iiuhvm43y" path="res://assets/characters/enemies/peacock/sounds/slash_5.wav" id="8_bcwtc"]
[ext_resource type="AudioStream" uid="uid://cfmhfuoheaa7h" path="res://assets/characters/enemies/peacock/sounds/slash_6.wav" id="9_mtje3"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qosx7"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lbsk3"]
animation = &"swipe"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_b4n07"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lbsk3"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_b4n07"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_j0h5x"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"attack"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0k5eo"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0h8ur"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xxgrn"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m0qma"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"attack"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_b4n07"]
states/Start/position = Vector2(208, 87)
states/idle/node = SubResource("AnimationNodeAnimation_qosx7")
states/idle/position = Vector2(418, 87)
states/swipe/node = SubResource("AnimationNodeAnimation_lbsk3")
states/swipe/position = Vector2(491, -37)
states/walk/node = SubResource("AnimationNodeAnimation_b4n07")
states/walk/position = Vector2(592, 87)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_lbsk3"), "swipe", "idle", SubResource("AnimationNodeStateMachineTransition_b4n07"), "idle", "swipe", SubResource("AnimationNodeStateMachineTransition_j0h5x"), "idle", "walk", SubResource("AnimationNodeStateMachineTransition_0k5eo"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_0h8ur"), "swipe", "walk", SubResource("AnimationNodeStateMachineTransition_xxgrn"), "walk", "swipe", SubResource("AnimationNodeStateMachineTransition_m0qma")]
graph_offset = Vector2(-178, -99)

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_j0h5x"]
random_pitch = 1.2
random_volume_offset_db = 2.0
streams_count = 6
stream_0/stream = ExtResource("4_s57sc")
stream_1/stream = ExtResource("5_3f0b6")
stream_2/stream = ExtResource("6_ktqvi")
stream_3/stream = ExtResource("7_sqecj")
stream_4/stream = ExtResource("8_bcwtc")
stream_5/stream = ExtResource("9_mtje3")

[node name="peacock" instance=ExtResource("1_06s3q")]

[node name="Skeleton3D" parent="Armature" index="0"]
bones/1/position = Vector3(-8.4464885e-18, -0.0380396, 0.0429407)
bones/1/rotation = Quaternion(0.36878735, 1.9243504e-15, 3.5400522e-15, 0.9295138)
bones/2/position = Vector3(-6.1638265e-16, 0.06357177, 0.13863319)
bones/2/rotation = Quaternion(0.4977962, -6.5478886e-08, -3.7582563e-08, 0.867294)
bones/3/position = Vector3(-2.2617206e-16, 0.12873562, 0.2501862)
bones/3/rotation = Quaternion(0.7447826, -2.2041137e-05, 1.6678907e-05, 0.6673072)
bones/4/position = Vector3(-3.559957e-06, 0.12164971, 0.3145671)
bones/4/rotation = Quaternion(0.5696319, -2.5336612e-05, 1.1103467e-05, 0.82189995)
bones/5/position = Vector3(-6.6206244e-06, 0.14446864, 0.3754339)
bones/5/rotation = Quaternion(0.026082724, -2.736388e-05, -4.7599424e-06, 0.99965984)
bones/6/position = Vector3(-5.922776e-06, 0.20620117, 0.35848248)
bones/6/rotation = Quaternion(0.6826775, 0.18838018, 0.18780246, 0.6805841)
bones/7/position = Vector3(-0.030380027, 0.25807974, 0.35864815)
bones/7/rotation = Quaternion(0.0014801419, 0.00040849406, 0.26600128, 0.9639715)
bones/8/position = Vector3(-0.039068617, 0.2715918, 0.32260358)
bones/8/rotation = Quaternion(0.0014801419, 0.00040849406, 0.26600128, 0.9639715)
bones/9/position = Vector3(0.033805642, 0.14960095, 0.42930272)
bones/9/rotation = Quaternion(-0.042634875, 0.15450582, 0.95150995, -0.2625625)
bones/10/position = Vector3(0.061699063, 0.102907576, 0.44744512)
bones/10/rotation = Quaternion(-0.032310892, 0.11709303, 0.9568346, -0.26403183)
bones/11/position = Vector3(0.09186321, 0.05241305, 0.46206003)
bones/11/rotation = Quaternion(0.028853534, -0.10456304, 0.9582849, -0.26443177)
bones/12/position = Vector3(0.033292245, 0.23773064, 0.4173296)
bones/12/rotation = Quaternion(0.12480053, -0.0804107, -0.54421043, 0.82570827)
bones/13/position = Vector3(0.071197964, 0.2539741, 0.42999682)
bones/13/rotation = Quaternion(-0.050172463, 0.049248286, -0.6848226, 0.72531056)
bones/14/position = Vector3(-0.043551635, 0.19182603, 0.4173296)
bones/14/rotation = Quaternion(0.06590207, 0.13303383, 0.89065045, 0.42976826)
bones/15/position = Vector3(-0.07582161, 0.16614841, 0.42999685)
bones/15/rotation = Quaternion(-0.017815983, -0.06800919, 0.95987654, 0.2714673)
bones/16/position = Vector3(-0.0642231, 0.18306158, 0.3725803)
bones/16/rotation = Quaternion(0.0013354563, -0.00075776316, 0.8697221, 0.49353948)
bones/17/position = Vector3(-0.06296588, 0.18381564, 0.37173712)
bones/17/rotation = Quaternion(0.0013354488, -0.0007577591, 0.8697221, 0.49353948)
bones/18/position = Vector3(0.05080776, 0.25177813, 0.3725803)
bones/18/rotation = Quaternion(0.00075778353, 0.0013354921, -0.49353945, 0.8697221)
bones/19/position = Vector3(0.049547885, 0.2510285, 0.37173712)
bones/19/rotation = Quaternion(0.00075775816, 0.0013354474, -0.49353948, 0.8697221)
bones/20/position = Vector3(-0.062056713, 0.18436246, 0.37070024)
bones/20/rotation = Quaternion(0.0013354564, -0.0007577633, 0.8697221, 0.49353948)
bones/21/position = Vector3(0.048635453, 0.25048715, 0.37070024)
bones/21/rotation = Quaternion(0.0007577835, 0.001335492, -0.49353945, 0.8697221)
bones/22/position = Vector3(0.0841214, 0.1630015, 0.24478596)
bones/22/rotation = Quaternion(-0.4812761, 0.15524887, -0.79069626, 0.3450662)
bones/23/position = Vector3(0.13383691, 0.07346279, 0.17231058)
bones/23/rotation = Quaternion(-0.5039871, -0.041544523, -0.86258376, 0.014845163)
bones/24/position = Vector3(0.14529796, -0.09570289, 0.18194106)
bones/24/rotation = Quaternion(0.46090606, 0.20807342, 0.8176594, 0.27514416)
bones/25/position = Vector3(0.118225455, 0.0012086183, 0.2128681)
bones/25/rotation = Quaternion(0.32750696, 0.38531563, 0.6212297, 0.5986191)
bones/26/position = Vector3(-2.958898e-15, 0.17154375, 0.21720475)
bones/26/rotation = Quaternion(-0.60815936, -1.1828772e-07, 9.062282e-08, 0.79381496)
bones/27/position = Vector3(1.8997204e-15, 0.19484654, 0.13076244)
bones/27/rotation = Quaternion(-3.6532825e-08, -0.6006871, 0.7994842, 2.7448708e-08)
bones/28/position = Vector3(2.1599075e-15, -0.011440372, 0.16164306)
bones/28/rotation = Quaternion(1, -2.3357442e-16, -1.6292068e-07, 9.6857555e-08)
bones/29/position = Vector3(-3.583036e-15, -0.13655877, 0.19231066)
bones/29/rotation = Quaternion(4.1589878e-08, 0.33388788, 0.9405064, -0.06298135)
bones/29/scale = Vector3(1.185726, 0.7112647, 1.1857259)
bones/30/position = Vector3(0.027694607, -0.31635344, 0.3391301)
bones/30/rotation = Quaternion(0.019804709, 0.5049831, 0.8625308, -0.025306152)
bones/30/scale = Vector3(1.0000001, 0.9999996, 0.99999994)
bones/31/position = Vector3(0.048616618, -0.47697532, 0.6251135)
bones/31/rotation = Quaternion(0.042746384, 0.38403535, 0.9211107, -0.047378883)
bones/31/scale = Vector3(1, 0.9999998, 0.99999994)
bones/32/position = Vector3(0.08809417, -0.7072221, 0.85630757)
bones/32/rotation = Quaternion(0.064872704, 0.25576234, 0.9621219, -0.068547755)
bones/32/scale = Vector3(0.9999998, 1, 0.9999997)
bones/33/position = Vector3(0.14235157, -0.989801, 1.0151367)
bones/33/rotation = Quaternion(0.08576152, 0.12261096, 0.9847819, -0.088409)
bones/33/scale = Vector3(1.0000001, 0.99999976, 1.0000001)
bones/34/position = Vector3(0.20649058, -1.3034451, 1.0895205)
bones/34/rotation = Quaternion(0.105014324, -0.012879307, 0.98865867, -0.106583804)
bones/34/scale = Vector3(1, 0.9999997, 0.99999994)
bones/35/position = Vector3(-3.5596708e-15, -0.1365588, 0.19231062)
bones/36/rotation = Quaternion(0.04453462, 0.9011328, 0.42894423, -0.044534627)
bones/36/scale = Vector3(1.185726, 0.71126485, 1.185726)
bones/37/position = Vector3(0.027694631, -0.17221716, 0.10080339)
bones/37/rotation = Quaternion(1.9722885e-08, 0.9926454, 0.121058464, -7.494269e-08)
bones/38/position = Vector3(5.121226e-10, 0.32867002, 1.3221167e-08)
bones/38/rotation = Quaternion(8.432136e-09, 0.7071068, 0.7071068, -5.3385094e-08)
bones/39/rotation = Quaternion(0.02272254, 0.6056857, 0.7950549, -0.022722488)
bones/39/scale = Vector3(1.0000001, 0.9999997, 1.0000001)
bones/40/rotation = Quaternion(-0.1337595, -0.0044207047, 0.032731913, 0.9904633)
bones/41/position = Vector3(4.3425816e-10, 0.32867002, -1.4901161e-08)
bones/41/scale = Vector3(1, 1, 1)
bones/42/rotation = Quaternion(0.022722544, 0.6056857, 0.7950548, -0.022722578)
bones/42/scale = Vector3(1, 0.99999994, 1)
bones/43/rotation = Quaternion(-0.1337595, -0.0044207484, 0.032731906, 0.9904633)
bones/44/position = Vector3(2.674044e-09, 0.32867005, 2.980233e-08)
bones/44/rotation = Quaternion(3.0908627e-08, 0.7071068, 0.7071068, 3.0908623e-08)
bones/44/scale = Vector3(1, 1, 1.0000001)
bones/45/rotation = Quaternion(0.022722542, 0.60568565, 0.79505485, -0.02272258)
bones/45/scale = Vector3(0.9999998, 1.0000002, 0.9999998)
bones/46/rotation = Quaternion(-0.13375951, -0.004420745, 0.03273191, 0.9904633)
bones/47/position = Vector3(-1.2710207e-09, 0.32867, -2.9802315e-08)
bones/48/rotation = Quaternion(0.022722531, 0.60568565, 0.79505485, -0.02272256)
bones/48/scale = Vector3(1.0000001, 0.99999994, 1.0000002)
bones/49/rotation = Quaternion(-0.13375951, -0.0044207387, 0.03273191, 0.9904633)
bones/50/position = Vector3(-5.9459826e-10, 0.32866988, 1.192093e-07)
bones/50/scale = Vector3(1, 1.0000001, 1.0000001)
bones/51/rotation = Quaternion(0.022722555, 0.60568565, 0.79505485, -0.022722576)
bones/51/scale = Vector3(1, 0.9999999, 1)
bones/52/rotation = Quaternion(-0.13375951, -0.004420732, 0.032731906, 0.9904633)
bones/53/position = Vector3(2.1218603e-10, 0.32867005, -1.0430813e-07)
bones/54/position = Vector3(0.027694631, -0.17221716, 0.100803375)
bones/54/rotation = Quaternion(1.972289e-08, 0.9926454, 0.12105839, -7.494269e-08)
bones/55/rotation = Quaternion(-0.13375951, -0.004420703, 0.03273192, 0.9904633)
bones/57/position = Vector3(-5.9189438e-06, 0.20620117, 0.35848248)
bones/57/rotation = Quaternion(0.00040850678, -0.0014801818, 0.96397144, -0.26600128)
bones/58/rotation = Quaternion(-3.0908623e-08, 0.7071068, 0.7071068, -3.0908623e-08)
bones/61/rotation = Quaternion(-9.504522e-08, 0.812197, 0.58338326, -6.1319156e-08)
bones/64/rotation = Quaternion(-0.3913379, -0.6052313, -0.4470465, 0.52981055)
bones/66/rotation = Quaternion(-0.391338, 0.6052313, 0.44704652, 0.52981055)
bones/68/rotation = Quaternion(0.5, -0.5, -0.50000006, -0.50000006)
bones/69/rotation = Quaternion(0.5, -0.49999997, -0.5, -0.5000001)
bones/70/rotation = Quaternion(0.49999997, 0.50000006, 0.49999997, -0.49999997)
bones/71/rotation = Quaternion(0.49999994, 0.5, 0.50000006, -0.5)
bones/73/rotation = Quaternion(0.49999997, 0.50000006, 0.49999997, -0.49999997)
bones/74/rotation = Quaternion(-9.504519e-08, 0.8121969, 0.5833834, -6.131919e-08)
bones/77/position = Vector3(2.3268563e-17, 0.054824345, 0.13704276)
bones/79/rotation = Quaternion(0.3137626, -1.0741771e-05, 2.5413832e-05, 0.94950145)
bones/80/rotation = Quaternion(-0.23201749, 8.299487e-08, 5.0716185e-08, 0.9727117)
bones/81/rotation = Quaternion(-0.54800063, -6.890057e-08, 1.1817427e-07, 0.8364779)
bones/82/position = Vector3(0.084121384, 0.14181197, -0.03231147)
bones/82/rotation = Quaternion(-0.58918065, -0.25895923, -0.7630483, 0.059696496)
bones/83/rotation = Quaternion(6.2974344e-08, -1.1263643e-08, -0.38414818, 0.9232715)
bones/84/rotation = Quaternion(6.6973605e-08, 4.7812985e-09, -0.33519146, 0.94215006)
bones/86/rotation = Quaternion(0.92261106, 2.8356592e-08, -2.0713499e-07, -0.38573158)
bones/87/rotation = Quaternion(-2.7826081e-08, 0.9630483, -0.26932913, -1.8751241e-07)
bones/88/position = Vector3(0.08412138, 0.14181198, -0.032311488)
bones/88/rotation = Quaternion(-0.58918065, -0.25895923, -0.76304835, 0.059696525)
bones/89/rotation = Quaternion(3.5297905e-08, 5.3526556e-08, -0.13156128, 0.99130803)
bones/90/position = Vector3(-0.084121406, 0.14181197, -0.032311473)
bones/90/rotation = Quaternion(-0.5891804, 0.25895923, 0.7630484, 0.059696212)
bones/91/rotation = Quaternion(9.277246e-08, 3.8241224e-09, 0.38414818, 0.9232715)
bones/92/rotation = Quaternion(6.903899e-08, -5.296421e-08, 0.33519143, 0.94215006)
bones/94/position = Vector3(-0.084121406, 0.14181198, -0.03231144)
bones/94/rotation = Quaternion(-0.58918047, 0.25895917, 0.7630484, 0.059696347)
bones/95/rotation = Quaternion(5.532101e-08, -5.7254912e-08, 0.1315613, 0.99130803)
bones/100/position = Vector3(0.32852378, 0.3147388, 0.23616084)
bones/101/position = Vector3(-0.08412141, 0.1630015, 0.24478596)
bones/101/rotation = Quaternion(-0.48127612, -0.15524887, 0.79069614, 0.3450662)
bones/102/position = Vector3(-0.13383691, 0.073462784, 0.17231058)
bones/102/rotation = Quaternion(-0.5039871, 0.041544523, 0.86258376, 0.014845222)
bones/103/position = Vector3(-0.14529794, -0.0957029, 0.18194106)
bones/103/rotation = Quaternion(-0.46090594, 0.20807345, 0.8176594, -0.27514416)
bones/104/position = Vector3(-0.118225425, 0.0012086332, 0.21286811)
bones/104/rotation = Quaternion(-0.32750702, 0.3853156, 0.62122965, -0.5986191)
bones/105/position = Vector3(-0.32852378, 0.3147388, 0.23616084)

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeStateMachine_b4n07")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/attack = false
parameters/conditions/idle = false
parameters/conditions/walk = false

[node name="SoundEffectManager" type="Node3D" parent="." index="3"]
script = ExtResource("2_lbsk3")
metadata/_custom_type_script = "uid://fxqs1lioec3e"

[node name="Slash" parent="SoundEffectManager" index="0" instance=ExtResource("3_b4n07")]
stream = SubResource("AudioStreamRandomizer_j0h5x")
