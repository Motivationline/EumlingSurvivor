[gd_scene load_steps=35 format=3 uid="uid://he057bxgogh1"]

[ext_resource type="PackedScene" uid="uid://n1si44f13bg7" path="res://assets/characters/enemies/bee/Bee.glb" id="1_evdv5"]
[ext_resource type="Texture2D" uid="uid://dvtouo6w5iri0" path="res://assets/characters/enemies/bossbugger/wings.png" id="2_y6td5"]
[ext_resource type="PackedScene" uid="uid://cy2tlb6wedycd" path="res://game/sound/sfx/manager/sound_effect_manager.tscn" id="3_snc18"]
[ext_resource type="PackedScene" uid="uid://cpbr8uxxklmxm" path="res://game/sound/sfx/sound_presets/enemy_preset.tscn" id="4_l08uq"]
[ext_resource type="AudioStream" uid="uid://dh4qwocaanuim" path="res://assets/sound/sound_effects/enemies/bee/artillery_1.wav" id="5_e1p72"]
[ext_resource type="AudioStream" uid="uid://doceuc1kxkmny" path="res://assets/sound/sound_effects/enemies/bee/artillery_2.wav" id="6_62wqs"]
[ext_resource type="AudioStream" uid="uid://bptm7e71hw3l" path="res://assets/sound/sound_effects/enemies/bee/artillery_3.wav" id="7_koxlt"]
[ext_resource type="AudioStream" uid="uid://kgjcbd5ddmt8" path="res://assets/sound/sound_effects/enemies/bee/artillery_4.wav" id="8_k6bgc"]
[ext_resource type="AudioStream" uid="uid://ly8jvm7hblrf" path="res://assets/sound/sound_effects/enemies/bee/artillery_5.wav" id="9_wcpm3"]
[ext_resource type="AudioStream" uid="uid://c3gw0mxnrcmyu" path="res://assets/sound/sound_effects/enemies/bee/artillery_6.wav" id="10_u3nb6"]
[ext_resource type="AudioStream" uid="uid://d7onyqdld4om" path="res://assets/sound/sound_effects/enemies/bee/shoot_1.wav" id="11_vgdol"]
[ext_resource type="AudioStream" uid="uid://b1d72dp5wbrn" path="res://assets/sound/sound_effects/enemies/bee/shoot_2.wav" id="12_ctotf"]
[ext_resource type="AudioStream" uid="uid://fl5he0cqgb20" path="res://assets/sound/sound_effects/enemies/bee/shoot_3.wav" id="13_bf2fh"]
[ext_resource type="AudioStream" uid="uid://dlhjkpo4ob7i8" path="res://assets/sound/sound_effects/enemies/bee/shoot_4.wav" id="14_630vq"]
[ext_resource type="AudioStream" uid="uid://powmcmm1vr0g" path="res://assets/sound/sound_effects/enemies/bee/shoot_5.wav" id="15_ogfog"]
[ext_resource type="AudioStream" uid="uid://tnd5cg217sns" path="res://assets/sound/sound_effects/enemies/bee/shoot_6.wav" id="16_udl5p"]

[sub_resource type="AtlasTexture" id="AtlasTexture_url60"]
atlas = ExtResource("2_y6td5")
region = Rect2(0, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_tuq3u"]
atlas = ExtResource("2_y6td5")
region = Rect2(128, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_r72m3"]
atlas = ExtResource("2_y6td5")
region = Rect2(256, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ir37v"]
atlas = ExtResource("2_y6td5")
region = Rect2(0, 64, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_w4i13"]
atlas = ExtResource("2_y6td5")
region = Rect2(128, 64, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gch53"]
atlas = ExtResource("2_y6td5")
region = Rect2(256, 64, 128, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_1pdba"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_url60")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tuq3u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r72m3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ir37v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w4i13")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gch53")
}],
"loop": true,
"name": &"wings",
"speed": 30.0
}]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_snc18"]
animation = &"artillery"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y6td5"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1pdba"]
animation = &"shoot"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_snc18"]
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_l08uq"]
xfade_time = 0.05
advance_mode = 2
advance_condition = &"attack"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_27umu"]
xfade_time = 0.2
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lj2ph"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8mxek"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"artillery"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_snc18"]
states/artillery/node = SubResource("AnimationNodeAnimation_snc18")
states/artillery/position = Vector2(539, 79)
states/idle/node = SubResource("AnimationNodeAnimation_y6td5")
states/idle/position = Vector2(367, 79)
states/shoot/node = SubResource("AnimationNodeAnimation_1pdba")
states/shoot/position = Vector2(381, 165)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_snc18"), "idle", "shoot", SubResource("AnimationNodeStateMachineTransition_l08uq"), "shoot", "idle", SubResource("AnimationNodeStateMachineTransition_27umu"), "artillery", "idle", SubResource("AnimationNodeStateMachineTransition_lj2ph"), "idle", "artillery", SubResource("AnimationNodeStateMachineTransition_8mxek")]

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_snc18"]
random_pitch = 1.1
random_volume_offset_db = 2.0
streams_count = 6
stream_0/stream = ExtResource("5_e1p72")
stream_1/stream = ExtResource("6_62wqs")
stream_2/stream = ExtResource("7_koxlt")
stream_3/stream = ExtResource("8_k6bgc")
stream_4/stream = ExtResource("9_wcpm3")
stream_5/stream = ExtResource("10_u3nb6")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_k7ve1"]
random_pitch = 1.1
random_volume_offset_db = 2.0
streams_count = 6
stream_0/stream = ExtResource("11_vgdol")
stream_1/stream = ExtResource("12_ctotf")
stream_2/stream = ExtResource("13_bf2fh")
stream_3/stream = ExtResource("14_630vq")
stream_4/stream = ExtResource("15_ogfog")
stream_5/stream = ExtResource("16_udl5p")

[node name="Bee" instance=ExtResource("1_evdv5")]

[node name="Skeleton3D" parent="." index="0"]
bones/0/position = Vector3(0.106253386, 0.43157557, 0.18692927)
bones/0/rotation = Quaternion(-0.07011885, -0.12722005, 0.5124597, -0.8463354)
bones/1/position = Vector3(0.04194156, 0.11110731, 0.08789314)
bones/1/rotation = Quaternion(0.46241322, -0.6849386, -0.11720231, 0.55072397)
bones/2/position = Vector3(0.022716997, 0.17905925, 0.012679989)
bones/2/rotation = Quaternion(0.025622454, -0.005835031, -0.109606825, 0.9936276)
bones/3/rotation = Quaternion(0.62667257, -0.5994552, -0.3750381, 0.3275386)
bones/4/rotation = Quaternion(-0.2011729, -0.012454044, -0.03666745, 0.97879)
bones/5/position = Vector3(-0.022913584, -0.052558962, 0.036346156)
bones/5/rotation = Quaternion(0.67161715, -0.4712012, -0.52722836, -0.22120182)
bones/6/rotation = Quaternion(-0.25552723, -0.009225422, -0.009157611, 0.9667145)
bones/7/rotation = Quaternion(-0.5290269, 0.14111102, 0.6928836, 0.4691807)
bones/8/rotation = Quaternion(-0.24434358, -0.020337678, -0.025178047, 0.96914846)
bones/9/rotation = Quaternion(-0.37462735, -0.32613948, 0.6274018, 0.5997119)
bones/10/rotation = Quaternion(-0.12428506, -0.011286747, -0.026083741, 0.9918395)
bones/11/rotation = Quaternion(-0.26613784, -0.6249766, 0.33076295, 0.65511125)
bones/12/position = Vector3(-1.8098893e-08, 0.09415234, -5.9828e-08)
bones/12/rotation = Quaternion(-0.2086369, 0.001848493, -0.016840445, 0.97784644)
bones/13/position = Vector3(0.08324057, 0.09351899, 0.006063485)
bones/13/rotation = Quaternion(0.008341419, -0.7048895, 0.055954266, 0.7070576)
bones/14/rotation = Quaternion(-0.21361668, 0.0027809853, -0.022253597, 0.97666013)
bones/16/position = Vector3(2.4214387e-07, 0.10325014, -7.8976154e-07)
bones/16/rotation = Quaternion(0.27561492, 0.6776003, 0.075842485, 0.6776003)
bones/16/scale = Vector3(0.9182257, 1.1860449, 0.9182257)
bones/17/rotation = Quaternion(-0.0666526, -0.8194271, -0.18590938, 0.5380841)
bones/17/scale = Vector3(1.0875323, 0.8827002, 1.0588135)
bones/18/rotation = Quaternion(-0.81965846, 0.0524366, 0.19914699, 0.5345569)
bones/18/scale = Vector3(1, 0.99999994, 1)
bones/19/rotation = Quaternion(-3.30474e-08, 7.301015e-09, -8.8061356e-08, 1)
bones/20/scale = Vector3(1, 1.0000001, 1)
bones/23/rotation = Quaternion(-0.85511243, 0.068905994, 0.1532802, 0.4904485)
bones/23/scale = Vector3(1, 1, 1.0000001)
bones/24/rotation = Quaternion(-6.219307e-08, 6.358979e-09, 1.5226883e-07, 1)
bones/25/scale = Vector3(1.0000001, 1.0000002, 1)
bones/28/position = Vector3(-0.10690783, 0.3733727, 0.039847612)
bones/28/rotation = Quaternion(-0.45061386, 0.74871784, 0.059136398, 0.48256788)
bones/28/scale = Vector3(0.9946713, 1.0149113, 1.0312885)
bones/29/rotation = Quaternion(-0.20117301, -0.012454172, -0.036667533, 0.97879)
bones/30/rotation = Quaternion(-0.16804023, 0.0066821384, -0.14527494, 0.9749939)
bones/31/position = Vector3(-0.060756266, 0.38477853, 0.13174392)
bones/31/rotation = Quaternion(-0.26276904, 0.9055286, 0.1968526, 0.26873705)
bones/31/scale = Vector3(1.0403051, 0.9730909, 1.0223795)
bones/32/rotation = Quaternion(0.14660689, -0.003842075, -0.07665854, 0.98621255)
bones/32/scale = Vector3(0.71453786, 1.9639275, 0.71283776)
bones/33/rotation = Quaternion(0.17922744, 0.011669965, -0.017407734, 0.98358446)
bones/33/scale = Vector3(1.017871, 1.1774088, 0.9869986)
bones/34/position = Vector3(0.012621403, 0.3304197, 0.13592246)
bones/34/rotation = Quaternion(-0.18333821, -0.9039947, -0.38567677, -0.020834072)
bones/34/scale = Vector3(1.0653304, 0.9875741, 0.9862762)
bones/36/position = Vector3(7.792827e-09, 0.08914398, -1.3752809e-08)
bones/36/rotation = Quaternion(-0.14663294, -0.0050215223, 0.009486835, 0.98913276)
bones/36/scale = Vector3(0.9999999, 1.0000002, 0.99999964)
bones/37/position = Vector3(0.10970143, 0.3259817, 0.08595956)
bones/37/rotation = Quaternion(-0.51463914, -0.7631614, -0.3600487, 0.15197428)
bones/37/scale = Vector3(0.9889864, 1.0749716, 0.9743273)
bones/38/rotation = Quaternion(-0.20863678, 0.0018484878, -0.016840357, 0.97784644)
bones/38/scale = Vector3(0.99999994, 1.0000002, 0.9999998)
bones/39/rotation = Quaternion(-0.17591055, 0.0013083043, -0.0024158405, 0.9844023)
bones/39/scale = Vector3(1, 1, 1.0000002)
bones/40/position = Vector3(0.12885776, 0.31341287, 0.0112282485)
bones/40/rotation = Quaternion(-0.6652751, -0.5666203, -0.1622309, 0.4582921)
bones/40/scale = Vector3(1.0078931, 1.0876122, 0.94033134)
bones/41/rotation = Quaternion(-0.12428523, -0.011286822, -0.02608365, 0.9918394)
bones/42/rotation = Quaternion(-0.20553486, 0.008575856, 0.11360951, 0.9719953)
bones/42/scale = Vector3(0.9999998, 1.0000002, 1)
bones/43/position = Vector3(0.04317534, 0.2802867, -0.06393286)
bones/43/rotation = Quaternion(-0.642906, -0.13526312, -0.054962143, 0.7519009)
bones/43/scale = Vector3(1.0881642, 1.0826105, 0.8525404)
bones/44/rotation = Quaternion(-0.24434374, -0.020337647, -0.025178166, 0.9691484)
bones/45/rotation = Quaternion(-0.12143274, 0.016223902, 0.050548896, 0.99117905)
bones/45/scale = Vector3(0.9999999, 1, 0.99999976)
bones/46/position = Vector3(-0.051306155, 0.3261385, -0.05287447)
bones/46/rotation = Quaternion(-0.50487405, 0.30552155, -0.10902843, 0.7999197)
bones/46/scale = Vector3(1.0303315, 1.0531722, 0.9551013)
bones/47/rotation = Quaternion(-0.25552717, -0.009225614, -0.009157687, 0.9667145)
bones/47/scale = Vector3(1.0000001, 0.99999976, 1)
bones/48/rotation = Quaternion(-0.13599956, -0.024837792, -0.05974981, 0.9885935)
bones/48/scale = Vector3(0.99999994, 1, 1.0000002)
bones/49/position = Vector3(-0.08559629, 0.27109233, -0.018804736)
bones/49/rotation = Quaternion(-0.78128666, 0.36697942, 0.013503829, 0.5047129)
bones/49/scale = Vector3(1.0275882, 1.0704632, 0.938692)
bones/50/position = Vector3(0.021360748, 0.2460541, -0.034366254)
bones/50/rotation = Quaternion(-0.866615, -0.030714925, -0.123819485, 0.48239377)
bones/50/scale = Vector3(1.0890539, 1.0263431, 0.9184511)

[node name="DEF_ANTENNA1_R" parent="Skeleton3D" index="0"]
transform = Transform3D(-0.83683723, 0.37977245, -0.2969059, -0.3511924, -0.1761839, 0.9547642, 0.21637134, 0.9219441, 0.41500813, 0.20616366, 0.5395183, 0.32400662)

[node name="DEF_ANTENNA_R" parent="Skeleton3D" index="1"]
transform = Transform3D(-0.83683693, 0.3797724, -0.29690713, -0.35119385, -0.17618403, 0.95476365, 0.21637061, 0.921944, 0.41500854, 0.18175232, 0.55084324, 0.26474518)

[node name="DEF_ANTENNA1_L" parent="Skeleton3D" index="2"]
transform = Transform3D(0.09937111, -0.6630688, 0.69508463, 0.8428649, 0.51908344, 0.29339924, -0.43641427, 0.6107844, 0.71099514, 0.101977974, 0.60897934, 0.29292005)

[node name="DEF_ANTENNA_L" parent="Skeleton3D" index="3"]
transform = Transform3D(0.099372014, -0.6630689, 0.69508433, 0.84286535, 0.51908326, 0.29339814, -0.43641317, 0.61078435, 0.71099585, 0.14459924, 0.5756133, 0.25365955)

[node name="DEF_PEDAL32" parent="Skeleton3D" index="4"]
transform = Transform3D(-0.88234276, -0.117859155, -0.2974739, -0.45762372, -0.09454146, 1.0377693, -0.26647747, 0.946614, 0.18159436, 0.13113497, 0.4531309, 0.3920416)

[node name="DEF_PEDAL31" parent="Skeleton3D" index="5"]
transform = Transform3D(-0.88588315, -0.16651021, -0.26152578, -0.47350168, 0.35355413, 0.9726862, -0.19473548, 0.95692086, -0.21551216, 0.14812675, 0.41705194, 0.2943912)

[node name="DEF_PEDAL11" parent="Skeleton3D" index="6"]
transform = Transform3D(0.15232217, 0.8352734, -0.3802641, -0.09430489, 0.58565974, 0.92417204, 1.0010309, 0.05884928, 0.28671, 0.22673827, 0.40282577, 0.16773511)

[node name="DEF_PEDAL72" parent="Skeleton3D" index="7"]
transform = Transform3D(0.6942375, 0.6356551, -0.12044448, 0.31652334, 0.13277587, 1.0547215, 0.7002616, -0.72459376, 0.027827352, 0.23530026, 0.50421464, 0.026921183)

[node name="DEF_PEDAL71" parent="Skeleton3D" index="8"]
transform = Transform3D(0.71300197, 0.50741786, -0.36699477, 0.33183667, 0.5407644, 0.90978706, 0.6768505, -0.67335075, 0.3234945, 0.18752567, 0.45330045, 0.09031874)

[node name="DEF_BODY" parent="Skeleton3D" index="9"]
transform = Transform3D(0.06446992, 0.32110003, 0.8815803, 0.43734658, 0.99220806, -0.24859285, -0.80480444, 0.5649076, -0.06447003, 2.4214387e-07, 0.10325014, -7.8976154e-07)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Skeleton3D" index="26"]
transform = Transform3D(-0.49102664, -0.8514367, -0.14378881, -0.14254348, -0.30253398, 1.0015589, -0.9029747, 0.4257543, 0.18920852, 0.06495173, 0.3394696, 0.22324196)
bone_name = "DEF_WINGS.R"
bone_idx = 49

[node name="AnimatedSprite3D" type="AnimatedSprite3D" parent="Skeleton3D/BoneAttachment3D" index="0"]
transform = Transform3D(-0.14090945, -0.2377729, 0.032325387, 0.23725528, -0.13243851, 0.060052857, -0.03592799, 0.057969455, 0.2697872, -0.094184875, 0.12763096, -0.024947777)
sprite_frames = SubResource("SpriteFrames_1pdba")
animation = &"wings"
autoplay = "wings"
frame_progress = 0.09179163

[node name="BoneAttachment3D2" type="BoneAttachment3D" parent="Skeleton3D" index="27"]
transform = Transform3D(0.2792608, -0.91375464, -0.14825231, 0.32310838, -0.25357813, 0.9582224, -0.9058369, -0.39668432, 0.33085907, 0.050088733, 0.36527225, 0.12402142)
bone_name = "DEF_WINGS.L"
bone_idx = 50

[node name="AnimatedSprite3D" type="AnimatedSprite3D" parent="Skeleton3D/BoneAttachment3D2" index="0"]
transform = Transform3D(0.15217485, 0.23010044, -0.036509212, 0.22545789, -0.15643352, -0.046191365, -0.058718786, -0.0043199323, -0.271974, 0.10598919, 0.098374695, -0.020983279)
sprite_frames = SubResource("SpriteFrames_1pdba")
animation = &"wings"
autoplay = "wings"
frame_progress = 0.05826593

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
tree_root = SubResource("AnimationNodeStateMachine_snc18")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/artillery = false
parameters/conditions/attack = false
parameters/conditions/idle = false

[node name="SoundEffectManager" parent="." index="4" instance=ExtResource("3_snc18")]

[node name="Artillery" parent="SoundEffectManager" index="1" instance=ExtResource("4_l08uq")]
stream = SubResource("AudioStreamRandomizer_snc18")
volume_db = -6.0

[node name="Shoot" parent="SoundEffectManager" index="2" instance=ExtResource("4_l08uq")]
stream = SubResource("AudioStreamRandomizer_k7ve1")
volume_db = -6.0
