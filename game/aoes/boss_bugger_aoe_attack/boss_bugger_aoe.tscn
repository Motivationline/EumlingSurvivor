[gd_scene load_steps=9 format=3 uid="uid://b1084wmkhn2en"]

[ext_resource type="Script" uid="uid://b80rxujvjbxg0" path="res://game/aoes/aoe.gd" id="1_2xtus"]
[ext_resource type="PackedScene" uid="uid://cmvibss2u7woe" path="res://game/hitbox/hitbox.tscn" id="2_bpi4p"]

[sub_resource type="BoxShape3D" id="BoxShape3D_2xtus"]
size = Vector3(4, 1, 2.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bpi4p"]
albedo_color = Color(0.9137255, 0, 0.007843138, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_aavlo"]
size = Vector2(4, 2.5)

[sub_resource type="Animation" id="Animation_2xtus"]
resource_name = "slash_attack"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Hitbox/CollisionShape3D:shape:size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.20000002, 0.4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(0.76660156, 1, 1.1445313), Vector3(2.2319336, 1, 2.119629), Vector3(0.8330078, 1, 1.1025391)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Hitbox/CollisionShape3D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.20000002, 0.40000004),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(-1.6166992, 0, -0.32226563), Vector3(0.15405285, 0, -0.80981445), Vector3(2.2658803, 0, -0.4423828)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Visuals/MeshInstance3D:mesh:size")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.20000002, 0.4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0.767, 1.145), Vector2(2.232, 2.115), Vector2(0.833, 1.1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Visuals/MeshInstance3D:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.20000002, 0.40000004),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(-1.6283716, 0.009023964, 0.6852333), Vector3(0.14794695, 0.009024203, 0.18011034), Vector3(2.2810378, 0.009024203, 0.5467942)]
}

[sub_resource type="Animation" id="Animation_bpi4p"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Hitbox/CollisionShape3D:shape:size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(4, 1, 2.5)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Hitbox/CollisionShape3D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, -1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Visuals/MeshInstance3D:mesh:size")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(4, 2.5)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Visuals/MeshInstance3D:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0.009024203, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_aavlo"]
_data = {
&"RESET": SubResource("Animation_bpi4p"),
&"slash_attack": SubResource("Animation_2xtus")
}

[node name="AOE" type="Node3D" node_paths=PackedStringArray("collsion_shape", "visuals")]
script = ExtResource("1_2xtus")
duration = 0.3
shape = SubResource("BoxShape3D_2xtus")
collsion_shape = NodePath("Hitbox/CollisionShape3D")
visuals = NodePath("Visuals")

[node name="Hitbox" parent="." instance=ExtResource("2_bpi4p")]
collision_layer = 32
collision_mask = 8
damage = 2.0
individual_hit_limit = 1
attached_to = 6
can_hit = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hitbox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)
shape = SubResource("BoxShape3D_2xtus")

[node name="Visuals" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Visuals"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.009024203, 0)
material_override = SubResource("StandardMaterial3D_bpi4p")
mesh = SubResource("PlaneMesh_aavlo")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Visuals"]
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_aavlo")
}
autoplay = "slash_attack"
