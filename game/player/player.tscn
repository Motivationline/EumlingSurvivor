[gd_scene load_steps=25 format=3 uid="uid://i26vdjehm6ll"]

[ext_resource type="Script" uid="uid://fmib7n6s14vg" path="res://game/player/player.gd" id="1_b2mth"]
[ext_resource type="Resource" uid="uid://bptl28ohdx7tg" path="res://game/ui/inventory/playerInv.tres" id="2_gb4gm"]
[ext_resource type="Script" uid="uid://1e84fd3xrrff" path="res://game/spawner/entity_spawner.gd" id="3_a4w0n"]
[ext_resource type="PackedScene" uid="uid://dadtg2y3wb6l4" path="res://assets/characters/eumling/V2/eumling_v_2_prefab.tscn" id="4_2mv0n"]
[ext_resource type="PackedScene" uid="uid://cii4n42sv8t0e" path="res://game/hurtbox/hurtbox.tscn" id="6_4ste8"]
[ext_resource type="Texture2D" uid="uid://ch2hc8xdjjpyj" path="res://assets/ui/ButtonFlatPause.png" id="6_usp30"]
[ext_resource type="Texture2D" uid="uid://s767nhl5h7j4" path="res://assets/ui/ButtonFlatPausePressed.png" id="7_0e4oy"]
[ext_resource type="Texture2D" uid="uid://veflkhfyq0u6" path="res://assets/ui/ButtonFlatEumlinge.png" id="7_3ep63"]
[ext_resource type="Texture2D" uid="uid://beij1gh6c8q3g" path="res://assets/ui/ButtonFlatEumlingPressed.png" id="8_rqcxa"]
[ext_resource type="Texture2D" uid="uid://s4sspr0pav3l" path="res://assets/ui/SketchGreyButtonTexture.png" id="10_2mv0n"]
[ext_resource type="Texture2D" uid="uid://dq30vdu2ccg2s" path="res://assets/ui/ProgressBarInner.png" id="11_eeltd"]
[ext_resource type="Texture2D" uid="uid://cry5xati0o452" path="res://assets/ui/ProgressBarOutline.png" id="12_088ty"]
[ext_resource type="Texture2D" uid="uid://c7b617pf4p3oj" path="res://assets/ui/ReloadCircle.png" id="12_gh012"]
[ext_resource type="PackedScene" uid="uid://csrh8ood2mu1q" path="res://game/projectiles/totally_basic_eumling_projectile/totally_basic_eumling_projectile.tscn" id="13_3ep63"]
[ext_resource type="FontFile" uid="uid://lxs3304evxr3" path="res://assets/ui/fonts/CherryBombOne-Regular.ttf" id="13_epc1c"]
[ext_resource type="PackedScene" uid="uid://hpf1ls8vm18b" path="res://game/healthbar/healthbar_3d.tscn" id="13_n270p"]
[ext_resource type="Texture2D" uid="uid://cimrid30f7wjf" path="res://assets/ui/EumlingIcon.png" id="14_0e4oy"]
[ext_resource type="PackedScene" uid="uid://cbr7504esjh25" path="res://game/ui/SketchOverlay/pause_sketch.tscn" id="16_gh012"]
[ext_resource type="PackedScene" uid="uid://daky13b2c211v" path="res://game/player/walk_smoke/walk_smoke.tscn" id="17_gh012"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ct7j0"]
radius = 0.23
height = 0.9135742

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2mv0n"]
transparency = 1
depth_draw_mode = 2
no_depth_test = true
albedo_color = Color(0.78, 0.53300005, 0.1872, 0.06666667)

[sub_resource type="QuadMesh" id="QuadMesh_gh012"]
size = Vector2(0.345, 3)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_3ep63"]
radius = 0.23
height = 0.9135742

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_0e4oy"]
corner_radius_top_left = 12
corner_radius_top_right = 12
corner_radius_bottom_right = 12
corner_radius_bottom_left = 12

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("eumling_visuals", "spawner") groups=["Player"]]
collision_layer = 2
collision_mask = 17
script = ExtResource("1_b2mth")
eumling_visuals = NodePath("Eumling_v2")
spawner = NodePath("DefaultAttack/AttackSpawner")
inv = ExtResource("2_gb4gm")
starting_values = Dictionary[int, float]({
0: 3.0,
1: 1.2,
2: 500.0,
3: 10.0,
4: 1.0,
5: 5.0,
6: 50.0,
7: 1.0,
8: 5.0,
9: 1.0,
10: 0.0,
11: 0.0,
12: 1.0
})
min_max_values = Dictionary[int, Vector2]({
0: Vector2(1, 8),
1: Vector2(0.5, 5),
2: Vector2(1, 1000000),
4: Vector2(0.5, 3),
5: Vector2(0.1, 20),
6: Vector2(1, 1000000),
7: Vector2(1, 10),
8: Vector2(1, 12),
9: Vector2(0.2, 5),
11: Vector2(0, 1),
12: Vector2(1, 10)
})

[node name="PlayerCollision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.4567871, 0)
shape = SubResource("CapsuleShape3D_ct7j0")

[node name="Eumling_v2" parent="." instance=ExtResource("4_2mv0n")]

[node name="ShittyVisual" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="shittyVisual" type="MeshInstance3D" parent="ShittyVisual"]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 0.042, -1.5)
material_override = SubResource("StandardMaterial3D_2mv0n")
mesh = SubResource("QuadMesh_gh012")
skeleton = NodePath("../..")

[node name="Hurtbox" parent="." instance=ExtResource("6_4ste8")]
collision_layer = 8
collision_mask = 32
attached_to = 4
can_be_hit_by = 6

[node name="HurtboxCollision" type="CollisionShape3D" parent="Hurtbox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_3ep63")

[node name="UI" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="TimeBackground" type="Panel" parent="UI/Control"]
visible = false
clip_children = 1
layout_mode = 0
offset_left = 1520.0
offset_top = 62.0
offset_right = 1684.2336
offset_bottom = 134.00125
scale = Vector2(0.9448688, 0.81943655)
theme_override_styles/panel = SubResource("StyleBoxFlat_0e4oy")

[node name="TextureRect" type="TextureRect" parent="UI/Control/TimeBackground"]
visible = false
layout_mode = 0
offset_left = -9.40922
offset_top = -4.931595
offset_right = 165.94441
offset_bottom = 82.85076
texture = ExtResource("10_2mv0n")
expand_mode = 1

[node name="PauseButton" type="TextureButton" parent="UI/Control"]
layout_mode = 0
offset_left = 54.0
offset_top = 29.0
offset_right = 2030.0
offset_bottom = 2071.0
scale = Vector2(0.043695968, 0.043695968)
texture_normal = ExtResource("6_usp30")
texture_pressed = ExtResource("7_0e4oy")

[node name="EumlingeBackground" type="Panel" parent="UI/Control"]
visible = false
clip_children = 1
layout_mode = 0
offset_left = 1703.9999
offset_top = 62.0
offset_right = 1868.2335
offset_bottom = 134.00125
scale = Vector2(0.94487256, 0.8194397)
theme_override_styles/panel = SubResource("StyleBoxFlat_0e4oy")

[node name="TextureRect" type="TextureRect" parent="UI/Control/EumlingeBackground"]
visible = false
layout_mode = 0
offset_left = -9.40922
offset_top = -4.931595
offset_right = 165.94441
offset_bottom = 82.85076
texture = ExtResource("10_2mv0n")
expand_mode = 1

[node name="EumlingeButton" type="TextureButton" parent="UI/Control"]
visible = false
layout_mode = 0
offset_left = 1781.9999
offset_top = 47.000008
offset_right = 3758.0
offset_bottom = 2089.0
scale = Vector2(0.033757795, 0.033757795)
texture_normal = ExtResource("7_3ep63")
texture_pressed = ExtResource("8_rqcxa")

[node name="ReloadProgress" type="TextureProgressBar" parent="UI/Control"]
layout_mode = 0
offset_left = 158.0
offset_top = 31.0
offset_right = 364.0
offset_bottom = 237.0
scale = Vector2(0.4, 0.4)
value = 1.0
fill_mode = 4
texture_progress = ExtResource("12_gh012")

[node name="XPBar" type="TextureProgressBar" parent="UI/Control"]
visible = false
layout_mode = 0
offset_left = 197.0
offset_top = 63.0
offset_right = 3699.0
offset_bottom = 339.0
scale = Vector2(0.36896476, 0.19825365)
nine_patch_stretch = true
texture_under = ExtResource("11_eeltd")
texture_over = ExtResource("12_088ty")

[node name="Level" type="Label" parent="UI/Control"]
visible = false
layout_mode = 0
offset_left = 739.0
offset_top = 2.0
offset_right = 987.0
offset_bottom = 90.0
theme_override_fonts/font = ExtResource("13_epc1c")
theme_override_font_sizes/font_size = 60
text = "Level/XP"

[node name="Time" type="Label" parent="UI/Control"]
visible = false
layout_mode = 0
offset_left = 1549.0
offset_top = 73.0
offset_right = 1648.0
offset_bottom = 140.0
theme_override_fonts/font = ExtResource("13_epc1c")
theme_override_font_sizes/font_size = 30
text = "XX:XX"

[node name="SavedEumlings" type="Label" parent="UI/Control"]
visible = false
layout_mode = 0
offset_left = 1756.0
offset_top = 74.0
offset_right = 1798.0
offset_bottom = 141.0
theme_override_fonts/font = ExtResource("13_epc1c")
theme_override_font_sizes/font_size = 30
text = "YY"

[node name="Sprite2D" type="Sprite2D" parent="UI/Control"]
visible = false
position = Vector2(1832, 92)
scale = Vector2(0.030777289, 0.03077728)
texture = ExtResource("14_0e4oy")

[node name="UITest" type="CanvasLayer" parent="."]

[node name="PauseSketch" parent="UITest" instance=ExtResource("16_gh012")]
visible = false

[node name="WalkSmoke" parent="." node_paths=PackedStringArray("player") instance=ExtResource("17_gh012")]
player = NodePath("..")

[node name="DefaultAttack" type="Node3D" parent="."]

[node name="AttackSpawner" type="Node3D" parent="DefaultAttack"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.458658, 0)
script = ExtResource("3_a4w0n")
entity_to_spawn = ExtResource("13_3ep63")
time_between_entities = 0.05
offset_distance = 0.1
metadata/_custom_type_script = "uid://1e84fd3xrrff"

[node name="AttackCooldown" type="Timer" parent="DefaultAttack"]
wait_time = 0.5
one_shot = true

[node name="Healthbar3D" parent="." instance=ExtResource("13_n270p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
show_health_numbers = true

[connection signal="pressed" from="UI/Control/PauseButton" to="UITest/PauseSketch" method="open"]
